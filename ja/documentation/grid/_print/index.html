<!doctype html><html lang=ja class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.99.1"><link rel=canonical type=text/html href=/ja/documentation/grid/><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Grid | Selenium</title><meta name=description content="複数のマシン間で並行してテストを実行したいですか？ その場合、グリッドはあなたのためになります。
"><meta property="og:title" content="Grid"><meta property="og:description" content="複数のマシン間で並行してテストを実行したいですか？ その場合、グリッドはあなたのためになります。
"><meta property="og:type" content="website"><meta property="og:url" content="/ja/documentation/grid/"><meta property="og:image" content="/images/selenium_4_logo.png"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="Grid"><meta itemprop=description content="複数のマシン間で並行してテストを実行したいですか？ その場合、グリッドはあなたのためになります。
"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/selenium_4_logo.png"><meta name=twitter:title content="Grid"><meta name=twitter:description content="複数のマシン間で並行してテストを実行したいですか？ その場合、グリッドはあなたのためになります。
"><link rel=preload href=/scss/main.min.dd95eaed35d995c683927f6a45a20b722888b8b9d42aa9c81e3ca8958b5ede33.css as=style><link href=/scss/main.min.dd95eaed35d995c683927f6a45a20b722888b8b9d42aa9c81e3ca8958b5ede33.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script defer data-domain=selenium.dev src=https://plausible.io/js/plausible.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark navbar-color td-navbar"><a class=navbar-brand href=/ja/><span class=navbar-logo><svg id="selenium_logo" data-name="Selenium Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-selenium_logo{fill:#fff}</style></defs><title>Selenium</title><path class="cls-selenium_logo" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-selenium_logo" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-selenium_logo" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-selenium_logo" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-selenium_logo" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-selenium_logo" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-selenium_logo" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-selenium_logo" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-selenium_logo" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-selenium_logo" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/ja/about>About Selenium</a>
<a class=dropdown-item href=/ja/project>Structure and Governance</a>
<a class=dropdown-item href=/ja/events>Events</a>
<a class=dropdown-item href=/ja/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/ja/history>History</a>
<a class=dropdown-item href=/ja/getinvolved>Get Involved</a>
<a class=dropdown-item href=/ja/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>日本語</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/grid/>English</a>
<a class=dropdown-item href=/pt-br/documentation/grid/>Português (Brasileiro)</a>
<a class=dropdown-item href=/zh-cn/documentation/grid/>中文简体</a></div></li></ul><div class=navbar-nav><div id=docsearch></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>これは、このセクションの複数ページの印刷可能なビューです。
<a href=# onclick="return print(),!1">印刷するには、ここをクリックしてください</a>.</p><p><a href=/ja/documentation/grid/>このページの通常のビューに戻る</a>.</p></div><h1 class=title>Grid</h1><div class=lead>複数のマシン間で並行してテストを実行したいですか？ その場合、グリッドはあなたのためになります。</div><ul><li>1: <a href=#pg-3c2b75d36f1614bda9b1f90fda16b57d>独自のグリッドを設定する</a></li><li>2: <a href=#pg-0918ac00dadcaec8ed42334dbf603f55>グリッドを使用する場合</a></li><li>3: <a href=#pg-456d2e951a458e6f18fe16c80ad70bc5>グリッドのコンポーネント</a></li><li>4: <a href=#pg-6355fd8c1e3f7ed9dd004a69385e35a6>コンポーネントの構成</a></li><ul><li>4.1: <a href=#pg-12759b62a0129dd593b35c93c9ce349e>構成ヘルプ</a></li><li>4.2: <a href=#pg-4ed8bf1ae4585a0e8d21dbdfce81afb8>CLI Options</a></li><li>4.3: <a href=#pg-e617239c5efb3fbc97f69447f5ba5981>Toml Options</a></li></ul><li>5: <a href=#pg-9c11ba83187c12a3cd6b4a1789bae031>Grid Architecture</a></li><li>6: <a href=#pg-abac6f77089fbf05fa24eca43aebeddf>高度な機能</a></li><ul><li>6.1: <a href=#pg-cff3310fa01f534cfe804c3e76ae9056>Observability</a></li><li>6.2: <a href=#pg-b11540ed82255545d0e8201c6e111a70>GraphQLクエリのサポート</a></li><li>6.3: <a href=#pg-d62408233c3d62bcee1fef32842d1ecd>Grid Endpoints</a></li></ul></ul><div class=content><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from English to Japanese.
Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>Selenium Grid allows the execution of WebDriver scripts on remote machines
by routing commands sent by the client to remote browser instances.</p><p>Grid aims to:</p><ul><li>Provide an easy way to run tests in parallel on multiple machines</li><li>Allow testing on different browser versions</li><li>Enable cross platform testing</li></ul><p>Interested? Go through the following sections to understand
how Grid works, and how to set up your own.</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3c2b75d36f1614bda9b1f90fda16b57d>1 - 独自のグリッドを設定する</h1><div class=lead>Instructions for a simple Selenium Grid</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from English to Japanese.
Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><h2 id=quick-start>Quick start</h2><ol><li>Prerequisites<ul><li>Java 11 or higher installed</li><li>Browser(s) installed</li><li>Browser driver(s) <a href=/ja/documentation/webdriver/getting_started/install_drivers/#2-the-path-environment-variable>installed and on the <code>PATH</code></a></li><li>Download the Selenium Server jar file from the <a href=https://github.com/SeleniumHQ/selenium/releases/latest>latest release</a></li></ul></li><li>Start the Grid<ul><li><code>java -jar selenium-server-&lt;version>.jar standalone</code></li></ul></li><li>Point* your WebDriver tests to <a href=http://localhost:4444>http://localhost:4444</a></li><li>(Optional) Check running tests and available capabilities by opening your browser at <a href=http://localhost:4444>http://localhost:4444</a></li></ol><p>*Wondering how to point your tests to <a href=http://localhost:4444>http://localhost:4444</a>?
Check the <a href=/ja/documentation/webdriver/remote_webdriver/><code>RemoteWebDriver</code> section</a>.</p><p>To learn more about the different configuration options, go through the sections below.</p><h2 id=grid-roles>Grid roles</h2><p>Several <a href=/ja/documentation/grid/components/>components</a> compose a Selenium Grid. Depending
on your needs, you can start each one of them on its own, or a few at the same time by using a
Grid role.</p><h3 id=standalone>Standalone</h3><p><strong>Standalone</strong> combines all Grid components seamlessly into one.
Running a Grid in <strong>Standalone</strong> mode gives you a fully functional Grid with a single command,
within a single process.</p><p><strong>Standalone</strong> is also the easiest mode to spin up a Selenium Grid. By default, the server
will listen for <code>RemoteWebDriver</code> requests on <code>http://localhost:4444/wd/hub</code>. By default, the
server will detect the available drivers that it can use from the System <code>PATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar standalone
</span></span></code></pre></div><p>You can still pass a <code>--config</code> file, or pass specific
<a href=/ja/documentation/grid/configuration/cli_options/>configuration flags on the CLI</a></p><h4 id=hub>Hub</h4><p>A Hub is the union of the following components:</p><ul><li>Router</li><li>Distributor</li><li>Session Map</li><li>New Session Queue</li><li>Event Bus</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar hub
</span></span></code></pre></div><p>By default, the server will listen for <code>RemoteWebDriver</code> requests on <code>http://localhost:4444/wd/hub</code>.</p><h4 id=node>Node</h4><p>One or more <strong>Nodes</strong> can be started in this setup, and the server will detect the available
drivers that it can use from the System <code>PATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar node
</span></span></code></pre></div><h3 id=distributed>Distributed</h3><p>When using a distributed Grid, each component needs is started separately. This setup is more suitable
for large Grids.</p><div class="alert alert-primary" role=alert>The startup order of the components is not important, however, we recommend following these
steps when starting a distributed Grid.</div><ol><li><strong>Event Bus</strong>: a communication path to other Grid components</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar  event-bus
</span></span></code></pre></div><ol start=2><li><strong>Session Map</strong>: maps session IDs to the <strong>Node</strong> where the session is running</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar sessions
</span></span></code></pre></div><ol start=3><li><strong>New Session Queue</strong>: adds the new session request to a queue for the distributor to processes</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar sessionqueue
</span></span></code></pre></div><ol start=4><li><strong>Distributor</strong>: assigns a <strong>Node</strong> for a session request. Other <strong>Nodes</strong> register to the <strong>Distributor</strong>
the way they would have registered to the <strong>Hub</strong> in a non-distributed Grid</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar distributor --sessions http://localhost:5556 --sessionqueue http://localhost:5559 --bind-bus <span style=color:#204a87>false</span>
</span></span></code></pre></div><ol start=5><li><strong>Router</strong>: Redirects requests to the right component</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar router --sessions http://localhost:5556 --distributor http://localhost:5553 --sessionqueue http://localhost:5559
</span></span></code></pre></div><ol start=6><li>Node(s)</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar node 
</span></span></code></pre></div><h2 id=metadata-in-tests>Metadata in tests</h2><p>You can add metadata to your tests and consume it via <a href=/ja/documentation/grid/advanced_features/graphql_support/>GraphQL</a>
or visualize parts of it through the Selenium Grid UI. Metadata can be added by prefixing the metadata with <code>se:</code>.</p><p>Here is a quick example in Java showing that.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ChromeOptions</span> <span style=color:#000>chromeOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserVersion&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;100&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;platformName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Windows&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Showing a test name instead of the session id in the Grid UI
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;se:name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;My simple test&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Other type of metadata can be seen in the Grid UI by clicking on the 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// session info or via GraphQL
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;se:sampleMetadata&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Sample metadata value&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> 
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://gridUrl:4444&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h2 id=querying-selenium-grid>Querying Selenium Grid</h2><p>After starting a Grid, there are mainly two ways of querying its status, through the Grid
UI or via an API call.</p><p>The Grid UI can be reached by opening your preferred browser and heading to
<a href=http://localhost:4444>http://localhost:4444</a>.</p><p>API calls can be done through the <a href=http://localhost:4444/status>http://localhost:4444/status</a>
endpoint or using <a href=/ja/documentation/grid/advanced_features/graphql_support/>GraphQL</a></p><div class="pageinfo pageinfo-primary"><p>For simplicity, all command examples shown in this page assume that components are running
locally. More detailed examples and usages can be found in the
<a href=/ja/documentation/grid/configuration/>Configuring Components</a> section.</p></div><h2 id=warning>Warning</h2><p>Selenium Grid must be protected from external access using appropriate
firewall permissions.</p><p>Failure to protect your Grid could result in one or more of the following occurring:</p><ul><li>You provide open access to your Grid infrastructure</li><li>You allow third parties to access internal web applications and files</li><li>You allow third parties to run custom binaries</li></ul><p>See this blog post on <a href=//labs.detectify.com>Detectify</a>, which gives a good
overview of how a publicly exposed Grid could be misused:
<a href=//labs.detectify.com/2017/10/06/guest-blog-dont-leave-your-grid-wide-open/>Don&rsquo;t Leave your Grid Wide Open</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-0918ac00dadcaec8ed42334dbf603f55>2 - グリッドを使用する場合</h1><div class=lead>Is Grid right for you?</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from English to Japanese.
Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>When would you use a Selenium Grid?</p><ul><li>To run your tests in parallel, against different browser types, browser versions, operating systems</li><li>To reduce the time needed to execute a test suite</li></ul><p>Selenium Grid runs test suites in parallel against multiple machines (called Nodes).
For large and long-running test suites, this can save minutes, hours, or perhaps days.
This shortens the turnaround time for test results as your application under test (AUT)
changes.</p><p>Grid can run tests (in parallel) against multiple different browsers, and it can
run against multiple instances of the same browser. As an example, let&rsquo;s imagine
a Grid with six Nodes. The first machine has Firefox&rsquo;s latest version,
the second has Firefox &ldquo;latest minus one&rdquo;, the third gets the latest Chrome, and
the remaining three machines are Mac Minis, which allows for three tests to run in
parallel on the latest version of Safari.</p><p>Execution time can be expressed as a simple formula:</p><p><code>Number of Tests * Average Test Time / Number of Nodes = Total Execution Time</code></p><pre><code>   15      *       45s        /        1        =      11m 15s   // Without Grid
   15      *       45s        /        5        =      2m 15s    // Grid with 5 Nodes
   15      *       45s        /        15       =      45s       // Grid with 15 Nodes
  100      *       120s       /        15       =      13m 20s   // Would take over 3 hours without Grid
</code></pre><p>As the test suite is executing, the Grid allocates the tests to run against these
browsers as configured in the tests.</p><p>A configuration such as this can greatly speed up the execution time of even the largest Selenium test suites.</p><p>Selenium Grid is a completely native part of the Selenium project, and is maintained in parallel by the same team
of committers who work in the core Selenium development. Recognizing the importance of test execution speed, Grid
has been a critical part of the Selenium project since the earliest days.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-456d2e951a458e6f18fe16c80ad70bc5>3 - グリッドのコンポーネント</h1><div class=lead>Understand how to use the different Grid components</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>Selenium Grid 4.0 is a ground-up rewrite from previous versions. In addition to a comprehensive
set of improvements to performance and standards compliance, the different functions of the grid were
broken out to reflect a more modern age of computing and software development. Purpose-build for containerization
and cloud-distributed scalability, Selenium Grid 4.0 is a wholly new solution for the modern era.</p><div class="card mb-4"><div class=card-header><strong>Grid Components</strong></div><div class=card-body><p class=card-text><img src=/images/documentation/grid/components.png alt="Selenium Grid 4 Components" title="Selenium Grid 4 Components"></p></div><div class=card-footer>Grid components shown in the fully distributed mode</div></div><h2 id=router>Router</h2><p>The <strong>Router</strong> forwards requests to the correct component.</p><p>The <strong>Router</strong> is the entry point of the Grid, receiving all external requests.
The <strong>Router</strong> behaves differently depending on the request:</p><ul><li>If it is a new session request, the <strong>Router</strong> will add it to the <strong>New Session Queue</strong></li><li>The <strong>Distributor</strong> regularly checks if there is a free slot</li><li>If so, the first matching request is removed from the <strong>New Session Queue</strong></li><li>The <strong>Router</strong> will receive the event and poll the <strong>New Session Queue</strong> to get the new session request</li><li>If the request belongs to an existing session, the <strong>Router</strong> will send the</li><li>session id to the <strong>Session Map</strong>, and the <strong>Session Map</strong> will
return the <strong>Node</strong> where the session is running. After this, the <strong>Router</strong> will
forward the request to the <strong>Node</strong>.</li></ul><p>The <strong>Router</strong> balances the load in the Grid by sending the requests to the
component that is able to handle them better, without overloading any component
that is not needed in the process.</p><h2 id=distributor>Distributor</h2><p>The <strong>Distributor</strong> keeps track of all <strong>Nodes</strong> and their capabilities. Its
receives a new session request, then finds a suitable <strong>Node</strong> where the session can be
created. After the session is created, the <strong>Distributor</strong> stores in the <strong>Session Map</strong>
the relation between the session id and <strong>Node</strong> where the session is being executed.</p><h2 id=node>Node</h2><p>A Grid can contain multiple <strong>Nodes</strong>. Each <strong>Node</strong> manages
the slots for the available browsers of the machine where it is running.</p><p>The <strong>Node</strong> registers itself to the <strong>Distributor</strong> through the <strong>Event Bus</strong>, and its
configuration is sent as part of the registration message.</p><p>By default, the <strong>Node</strong> auto-registers all browser drivers available on the path of
the machine where it runs. It also creates one slot per available CPU for Chromium
based browsers and Firefox. For Safari, only one slot is created.
Through a specific configuration, it can run sessions in Docker containers or relay commands.
You can see more configuration details in
<a href=/ja/documentation/grid/getting_started/>setting up your own grid</a>.</p><p>A <strong>Node</strong> only executes the received commands, it does not evaluate, make judgments,
or control anything other than the flow of commands and responses. The machines where
the <strong>Node</strong> is running does not need to have the same operating system as the other
components. For example, A Windows <strong>Node</strong> might have the capability of offering Edge
as a browser option, whereas this would not be possible on Linux or Mac, and a Grid can
have multiple <strong>Nodes</strong> configured with Windows, Mac, or Linux.</p><h2 id=session-map>Session Map</h2><p>The <strong>Session Map</strong> is a data store that keeps the information of the session id and the <strong>Node</strong>
where the session is running. It serves as a support for the <strong>Router</strong> in the process of
forwarding a request to the <strong>Node</strong>. The <strong>Router</strong> will ask the <strong>Session Map</strong> for the <strong>Node</strong>
associated to a session id.</p><h2 id=new-session-queue>New Session Queue</h2><p>The <strong>New Session Queue</strong> holds all the new session requests in a FIFO order.
It has configurable parameters for setting the request timeout and request retry interval.</p><p>The <strong>Router</strong> adds the new session request to the <strong>New Session Queue</strong> and waits for the response.
The <strong>New Session Queue</strong> regularly checks if any request in the queue has timed out,
if so the request is rejected and removed immediately.</p><p>The <strong>Distributor</strong> regularly checks if a slot is available. If so, the <strong>Distributor</strong> requests the
<strong>New Session Queue</strong> for the first matching request. The <strong>Distributor</strong> then attempts to create
a new session.</p><p>Once the requested capabilities match the capabilities of any of the free <strong>Node</strong> slots, the <strong>Distributor</strong> attempts to get the
available slot. If all the slots are busy, the <strong>Distributor</strong> will ask the queue to add the request to the front of the queue.
If request times out while retrying or adding to the front of the queue it is rejected.</p><p>After a session is created successfully, the <strong>Distributor</strong> sends the session information to the <strong>New Session Queue</strong>.
The <strong>New Session Queue</strong> sends the response back to the client.</p><h2 id=event-bus>Event Bus</h2><p>The <strong>Event Bus</strong> serves as a communication path between the <strong>Nodes</strong>, <strong>Distributor</strong>, <strong>New Session Queue</strong>, and <strong>Session Map</strong>.
The Grid does most of its internal communication through messages, avoiding expensive HTTP calls.
When starting the Grid in its fully distributed mode, the <strong>Event Bus</strong> is the first component that should be started.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>Running your own Grid</h4>Looking forward to using all these components and run your own Grid?
Head to the <a href=/ja/documentation/grid/getting_started/>&ldquo;Getting Started&rdquo;</a>
section to understand how to put all these pieces together.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-6355fd8c1e3f7ed9dd004a69385e35a6>4 - コンポーネントの構成</h1><div class=lead>Here you can see how each Grid component can be configured individually based on common configuration values and component-specific configuration values.</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div></div><div class=td-content><h1 id=pg-12759b62a0129dd593b35c93c9ce349e>4.1 - 構成ヘルプ</h1><div class=lead>Get information about all the available options to configure Grid.</div><div class="pageinfo pageinfo-primary"><p>ヘルプコマンドは、現在のコード実装に基づいて情報を表示します。
したがって、ドキュメントが更新されない場合に備えて、正確な情報を提供します。
それは、新しいバージョンのグリッド4の構成について学習する最も簡単な方法です。</p></div><h2 id=info-コマンド>Info コマンド</h2><p>infoコマンドは、次のトピックに関する詳細なドキュメントを提供します。</p><ul><li>Seleniumの構成</li><li>セキュリティ</li><li>セッションマップの設定</li><li>トレース</li></ul><h3 id=構成ヘルプ>構成ヘルプ</h3><p>クイック設定のヘルプと概要は、以下を実行することで提供されます。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar info config
</span></span></code></pre></div><h3 id=セキュリティ>セキュリティ</h3><p>安全な通信とノード登録のためのグリッドサーバーの設定の詳細を取得するには、以下を実行します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar info security
</span></span></code></pre></div><h3 id=セッションマップの設定>セッションマップの設定</h3><p>デフォルトでは、グリッドはローカルセッションマップを使用してセッション情報を保存します。
グリッドは、RedisやJDBC-SQLがサポートするデータベースなどの追加のストレージオプションをサポートしています。
別のセッションストレージをセットアップするには、次のコマンドを使用してセットアップ手順を取得します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar info sessionmap
</span></span></code></pre></div><h3 id=opentelemetryとjaegerを使用したトレースの設定>OpenTelemetryとJaegerを使用したトレースの設定</h3><p>デフォルトでは、トレースは有効になっています。
トレースをエクスポートしてJaeger経由で視覚化するには、次のコマンドを使用して手順を実行します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar info tracing
</span></span></code></pre></div><h2 id=seleniumgridコマンドを一覧表示する>SeleniumGridコマンドを一覧表示する</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar --config-help
</span></span></code></pre></div><p>使用可能なすべてのコマンドとそれぞれの説明が表示されます。</p><h2 id=コンポーネントヘルプコマンド>コンポーネントヘルプコマンド</h2><p>Seleniumロールの後に–help configオプションを渡して、コンポーネント固有の構成情報を取得します。</p><h3 id=スタンドアロン>スタンドアロン</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar standalone --help
</span></span></code></pre></div><h3 id=ハブ>ハブ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar hub --help
</span></span></code></pre></div><h3 id=セッション>セッション</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar sessions --help
</span></span></code></pre></div><h3 id=新しいセッションキューラー>新しいセッションキューラー</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar sessionqueue --help
</span></span></code></pre></div><h3 id=ディストリビューター>ディストリビューター</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar distributor --help
</span></span></code></pre></div><h3 id=ルーター>ルーター</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar router --help
</span></span></code></pre></div><h3 id=ノード>ノード</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-&lt;version&gt;.jar node --help
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-4ed8bf1ae4585a0e8d21dbdfce81afb8>4.2 - CLI Options</h1><div class=lead>All Grid components configuration CLI options in detail.</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>Different sections are available to configure a Grid. Each section has options can be configured
through command line arguments.</p><p>A complete description of the component to section mapping can be seen below.</p><div class="pageinfo pageinfo-primary"><p>Note that this documentation could be outdated if an option was modified or added
but has not been documented yet. In case you bump into this situation, please check
the <a href=/ja/documentation/grid/configuration/help/>&ldquo;Config help&rdquo;</a> section and feel free to send us a
pull request updating this page.</p></div><h2 id=sections>Sections</h2><table class="table table-bordered text-md-center d-md-table-cell"><thead><tr><th></th><th>Standalone</th><th>Hub</th><th>Node</th><th>Distributor</th><th>Router</th><th>Sessions</th><th>SessionQueue</th></tr></thead><tbody><tr><th><a href=#distributor>Distributor</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td></td></tr><tr><th><a href=#docker>Docker</a></th><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td></td><td></td><td></td><td></td></tr><tr><th><a href=#events>Events</a></th><td></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td></tr><tr><th><a href=#logging>Logging</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td></tr><tr><th><a href=#network>Network</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td></td><td><i class="fas fa-check"></i></td><td></td><td></td></tr><tr><th><a href=#node>Node</a></th><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td></td><td></td><td></td><td></td></tr><tr><th><a href=#router>Router</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td></td><td><i class="fas fa-check"></i></td><td></td><td></td></tr><tr><th><a href=#relay>Relay</a></th><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td></td><td></td><td></td><td></td></tr><tr><th><a href=#server>Server</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td></tr><tr><th><a href=#sessionqueue>SessionQueue</a></th><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td><td><i class="fas fa-check"></i></td></tr><tr><th><a href=#sessions>Sessions</a></th><td></td><td></td><td></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td><i class="fas fa-check"></i></td><td></td></tr></tbody></table><h3 id=distributor>Distributor</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--healthcheck-interval</code></td><td>int</td><td><code>120</code></td><td>How often, in seconds, will the health check run for all Nodes. This ensures the server can ping all the Nodes successfully.</td></tr><tr><td><code>--distributor</code></td><td>uri</td><td><code>http://localhost:5553</code></td><td>Url of the distributor.</td></tr><tr><td><code>--distributor-host</code></td><td>string</td><td><code>localhost</code></td><td>Host on which the distributor is listening.</td></tr><tr><td><code>--distributor-implementation</code></td><td>string</td><td><code>org.openqa.selenium.grid.distributor.local.LocalDistributor</code></td><td>Full class name of non-default distributor implementation</td></tr><tr><td><code>--distributor-port</code></td><td>int</td><td><code>5553</code></td><td>Port on which the distributor is listening.</td></tr><tr><td><code>--reject-unsupported-caps</code></td><td>boolean</td><td><code>false</code></td><td>Allow the Distributor to reject a request immediately if the Grid does not support the requested capability. Rejecting requests immediately is suitable for a Grid setup that does not spin up Nodes on demand.</td></tr><tr><td><code>--slot-matcher</code></td><td>string</td><td><code>org.openqa.selenium.grid.data.DefaultSlotMatcher</code></td><td>Full class name of non-default slot matcher to use. This is used to determine whether a Node can support a particular session.</td></tr><tr><td><code>--slot-selector</code></td><td>string</td><td><code>org.openqa.selenium.grid.distributor.selector.DefaultSlotSelector</code></td><td>Full class name of non-default slot selector. This is used to select a slot in a Node once the Node has been matched.</td></tr></tbody></table><h3 id=docker>Docker</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--docker-assets-path</code></td><td>string</td><td><code>/opt/selenium/assets</code></td><td>Absolute path where assets will be stored</td></tr><tr><td><code>--docker-</code></td><td>string[]</td><td><code>selenium/standalone-firefox:latest '{"browserName": "firefox"}'</code></td><td>Docker configs which map image name to stereotype capabilities (example `-D selenium/standalone-firefox:latest &lsquo;{&ldquo;browserName&rdquo;: &ldquo;firefox&rdquo;}&rsquo;)</td></tr><tr><td><code>--docker-devices</code></td><td>string[]</td><td><code>/dev/kvm:/dev/kvm</code></td><td>Exposes devices to a container. Each device mapping declaration must have at least the path of the device in both host and container separated by a colon like in this example: /device/path/in/host:/device/path/in/container</td></tr><tr><td><code>--docker-host</code></td><td>string</td><td><code>localhost</code></td><td>Host name where the Docker daemon is running</td></tr><tr><td><code>--docker-port</code></td><td>int</td><td><code>2375</code></td><td>Port where the Docker daemon is running</td></tr><tr><td><code>--docker-url</code></td><td>string</td><td><code>http://localhost:2375</code></td><td>URL for connecting to the Docker daemon</td></tr><tr><td><code>--docker-video-image</code></td><td>string</td><td><code>selenium/video:latest</code></td><td>Docker image to be used when video recording is enabled</td></tr></tbody></table><h3 id=events>Events</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--bind-bus</code></td><td>boolean</td><td><code>false</code></td><td>Whether the connection string should be bound or connected.<br>When true, the component will be bound to the Event Bus (as in the Event Bus will also be started by the component, typically by the Distributor and the Hub).<br>When false, the component will connect to the Event Bus.</td></tr><tr><td><code>--events-implementation</code></td><td>string</td><td><code>org.openqa.selenium.events.zeromq.ZeroMqEventBus</code></td><td>Full class name of non-default event bus implementation</td></tr><tr><td><code>--publish-events</code></td><td>string</td><td><code>tcp://*:4442</code></td><td>Connection string for publishing events to the event bus</td></tr><tr><td><code>--subscribe-events</code></td><td>string</td><td><code>tcp://*:4443</code></td><td>Connection string for subscribing to events from the event bus</td></tr></tbody></table><h3 id=logging>Logging</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--http-logs</code></td><td>boolean</td><td><code>false</code></td><td>Enable http logging. Tracing should be enabled to log http logs.</td></tr><tr><td><code>--log-encoding</code></td><td>string</td><td><code>UTF-8</code></td><td>Log encoding</td></tr><tr><td><code>--log</code></td><td>string</td><td>Windows path example :<br><code>'\path\to\file\gridlog.log'</code><br>or<br><code>'C:\path\path\to\file\gridlog.log'</code><br><br>Linux/Unix/MacOS path example :<br><code>'/path/to/file/gridlog.log'</code></td><td>File to write out logs. Ensure the file path is compatible with the operating system&rsquo;s file path.</td></tr><tr><td><code>--log-level</code></td><td>string</td><td><code>“INFO”</code></td><td>Log level. Default logging level is INFO. Log levels are described here <a href=https://docs.oracle.com/javase/7/docs/api/java/util/logging/Level.html>https://docs.oracle.com/javase/7/docs/api/java/util/logging/Level.html</a></td></tr><tr><td><code>--plain-logs</code></td><td>boolean</td><td><code>true</code></td><td>Use plain log lines</td></tr><tr><td><code>--structured-logs</code></td><td>boolean</td><td><code>false</code></td><td>Use structured logs</td></tr><tr><td><code>--tracing</code></td><td>boolean</td><td><code>true</code></td><td>Enable trace collection</td></tr><tr><td><code>--log-timestamp-format</code></td><td>string</td><td><code>HH:mm:ss.SSS</code></td><td>Allows the configure log timestamp format</td></tr></tbody></table><h3 id=network>Network</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--relax-checks</code></td><td>boolean</td><td><code>false</code></td><td>Relax checks on origin header and content type of incoming requests, in contravention of strict W3C spec compliance.</td></tr></tbody></table><h3 id=node>Node</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th><th></th></tr></thead><tbody><tr><td><code>--detect-drivers</code></td><td>boolean</td><td><code>true</code></td><td>Autodetect which drivers are available on the current system, and add them to the Node.</td><td></td></tr><tr><td><code>--driver-configuration</code></td><td>string[]</td><td><code>display-name="Firefox Nightly" max-sessions=2 webdriver-path="/usr/local/bin/geckodriver" stereotype='{"browserName": "firefox", "browserVersion": "86", "moz:firefoxOptions": {"binary":"/Applications/Firefox Nightly.app/Contents/MacOS/firefox-bin"}}'</code></td><td>List of configured drivers a Node supports. It is recommended to provide this type of configuration through a toml config file to improve readability</td><td></td></tr><tr><td><code>--driver-factory</code></td><td>string[]</td><td><code>org.openqa.selenium.example.LynxDriverFactory '{"browserName": "lynx"}'</code></td><td>Mapping of fully qualified class name to a browser configuration that this matches against.</td><td></td></tr><tr><td><code>--driver-implementation</code></td><td>string[]</td><td><code>"firefox"</code></td><td>Drivers that should be checked. If specified, will skip autoconfiguration.</td><td></td></tr><tr><td><code>--node-implementation</code></td><td>string</td><td><code>"org.openqa.selenium.grid.node.local.LocalNodeFactory"</code></td><td>Full classname of non-default Node implementation. This is used to manage a session&rsquo;s lifecycle.</td><td></td></tr><tr><td><code>--grid-url</code></td><td>string</td><td><code>https://grid.example.com</code></td><td>Public URL of the Grid as a whole (typically the address of the Hub or the Router)</td><td></td></tr><tr><td><code>--heartbeat-period</code></td><td>int</td><td><code>60</code></td><td>How often, in seconds, will the Node send heartbeat events to the Distributor to inform it that the Node is up.</td><td></td></tr><tr><td><code>--max-sessions</code></td><td>int</td><td><code>8</code></td><td>Maximum number of concurrent sessions. Default value is the number of available processors.</td><td></td></tr><tr><td><code>--override-max-sessions</code></td><td>boolean</td><td><code>false</code></td><td>The # of available processors is the recommended max sessions value (1 browser session per processor). Setting this flag to true allows the recommended max value to be overwritten. Session stability and reliability might suffer as the host could run out of resources.</td><td></td></tr><tr><td><code>--register-cycle</code></td><td>int</td><td><code>10</code></td><td>How often, in seconds, the Node will try to register itself for the first time to the Distributor.</td><td></td></tr><tr><td><code>--register-period</code></td><td>int</td><td><code>120</code></td><td>How long, in seconds, will the Node try to register to the Distributor for the first time. After this period is completed, the Node will not attempt to register again.</td><td></td></tr><tr><td><code>--session-timeout</code></td><td>int</td><td><code>300</code></td><td>Let X be the session-timeout in seconds. The Node will automatically kill a session that has not had any activity in the last X seconds. This will release the slot for other tests.</td><td></td></tr><tr><td><code>--vnc-env-var</code></td><td>string</td><td><code>START_XVFB</code></td><td>Environment variable to check in order to determine if a vnc stream is available or not.</td><td></td></tr><tr><td><code>--no-vnc-port</code></td><td>int</td><td><code>7900</code></td><td>If VNC is available, sets the port where the local noVNC stream can be obtained</td><td></td></tr><tr><td><code>--drain-after-session-count</code></td><td>int</td><td><code>1</code></td><td>Drain and shutdown the Node after X sessions have been executed. Useful for environments like Kubernetes. A value higher than zero enables this feature.</td><td></td></tr><tr><td><code>--hub</code></td><td>string</td><td><code>http://localhost:4444</code></td><td>The address of the Hub in a Hub-and-Node configuration. Can be a hostname or IP address (<code>hostname</code>), in which case the Hub will be assumed to be <code>http://hostname:4444</code>, the <code>--grid-url</code> will be the same <code>--publish-events</code> will be <code>tcp://hostname:4442</code> and <code>--subscribe-events</code> will be <code>tcp://hostname:4443</code>. If <code>hostname</code> contains a port number, that will be used for <code>--grid-url</code> but the URIs for the event bus will remain the same. Any of these default values may be overridden but setting the correct flags. If the hostname has a protocol (such as <code>https</code>) that will be used too.</td><td></td></tr><tr><td><code>--enable-cdp</code></td><td>boolean</td><td><code>true</code></td><td>Enable CDP proxying in Grid. A Grid admin can disable CDP if the network doesnot allow websockets. True by default.</td><td></td></tr></tbody></table><h3 id=relay>Relay</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--service-url</code></td><td>string</td><td><code>http://localhost:4723</code></td><td>URL for connecting to the service that supports WebDriver commands like an Appium server or a cloud service.</td></tr><tr><td><code>--service-host</code></td><td>string</td><td><code>localhost</code></td><td>Host name where the service that supports WebDriver commands is running</td></tr><tr><td><code>--service-port</code></td><td>int</td><td><code>4723</code></td><td>Port where the service that supports WebDriver commands is running</td></tr><tr><td><code>--service-status-endpoint</code></td><td>string</td><td><code>/status</code></td><td>Optional, endpoint to query the WebDriver service status, an HTTP 200 response is expected</td></tr><tr><td><code>--service-configuration</code></td><td>string[]</td><td><code>max-sessions=2 stereotype='{"browserName": "safari", "platformName": "iOS", "appium:platformVersion": "14.5"}}'</code></td><td>Configuration for the service where calls will be relayed to. It is recommended to provide this type of configuration through a toml config file to improve readability.</td></tr></tbody></table><h3 id=router>Router</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--password</code></td><td>string</td><td><code>myStrongPassword</code></td><td>Password clients must use to connect to the server. Both this and the username need to be set in order to be used.</td></tr><tr><td><code>--username</code></td><td>string</td><td><code>admin</code></td><td>User name clients must use to connect to the server. Both this and the password need to be set in order to be used.</td></tr></tbody></table><h3 id=server>Server</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--allow-cors</code></td><td>boolean</td><td><code>true</code></td><td>Whether the Selenium server should allow web browser connections from any host</td></tr><tr><td><code>--host</code></td><td>string</td><td><code>localhost</code></td><td>Server IP or hostname: usually determined automatically.</td></tr><tr><td><code>--bind-host</code></td><td>boolean</td><td><code>true</code></td><td>Whether the server should bind to the host address/name, or only use it to" report its reachable url. Helpful in complex network topologies where the server cannot report itself with the current IP/hostname but rather an external IP or hostname (e.g. inside a Docker container)</td></tr><tr><td><code>--https-certificate</code></td><td>path</td><td><code>/path/to/cert.pem</code></td><td>Server certificate for https. Get more detailed information by running &ldquo;java -jar selenium-server.jar info security&rdquo;</td></tr><tr><td><code>--https-private-key</code></td><td>path</td><td><code>/path/to/key.pkcs8</code></td><td>Private key for https. Get more detailed information by running &ldquo;java -jar selenium-server.jar info security&rdquo;</td></tr><tr><td><code>--max-threads</code></td><td>int</td><td><code>24</code></td><td>Maximum number of listener threads. Default value is: (available processors) * 3.</td></tr><tr><td><code>--port</code></td><td>int</td><td><code>4444</code></td><td>Port to listen on. There is no default as this parameter is used by different components, for example, Router/Hub/Standalone will use 4444 and Node will use 5555.</td></tr></tbody></table><h3 id=sessionqueue>SessionQueue</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--sessionqueue</code></td><td>uri</td><td><code>http://localhost:1237</code></td><td>Address of the session queue server.</td></tr><tr><td><code>-sessionqueue-host</code></td><td>string</td><td><code>localhost</code></td><td>Host on which the session queue server is listening.</td></tr><tr><td><code>--sessionqueue-port</code></td><td>int</td><td><code>1234</code></td><td>Port on which the session queue server is listening.</td></tr><tr><td><code>--session-request-timeout</code></td><td>int</td><td><code>300</code></td><td>Timeout in seconds. A new incoming session request is added to the queue. Requests sitting in the queue for longer than the configured time will timeout.</td></tr><tr><td><code>--session-retry-interval</code></td><td>int</td><td><code>5</code></td><td>Retry interval in seconds. If all slots are busy, new session request will be retried after the given interval.</td></tr></tbody></table><h3 id=sessions>Sessions</h3><table><thead><tr><th>Option</th><th>Type</th><th>Value/Example</th><th>Description</th></tr></thead><tbody><tr><td><code>--sessions</code></td><td>uri</td><td><code>http://localhost:1234</code></td><td>Address of the session map server.</td></tr><tr><td><code>--sessions-host</code></td><td>string</td><td><code>localhost</code></td><td>Host on which the session map server is listening.</td></tr><tr><td><code>--sessions-port</code></td><td>int</td><td><code>1234</code></td><td>Port on which the session map server is listening.</td></tr></tbody></table><h2 id=configuration-examples>Configuration examples</h2><p>All the options mentioned above can be used when starting the Grid components. They are a good
way of exploring the Grid options, and trying out values to find a suitable configuration.</p><div class="pageinfo pageinfo-primary"><p>We recommend the use of <a href=/ja/documentation/grid/configuration/toml_options/>Toml files</a> to configure a Grid.
Configuration files improve readability, and you can also check them in source control.</p><p>When needed, you can combine a Toml file configuration with CLI arguments.</p></div><h3 id=command-line-flags>Command-line flags</h3><p>To pass config options as command-line flags, identify the valid options for the component
and follow the template below.</p><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar &lt;component&gt; --&lt;option&gt; value
</code></pre><h4 id=standalone-setting-max-sessions-and-main-port>Standalone, setting max sessions and main port</h4><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar standalone --max-sessions 4 --port 4444
</code></pre><h4 id=hub-setting-a-new-session-request-timeout-a-main-port-and-disabling-tracing>Hub, setting a new session request timeout, a main port, and disabling tracing</h4><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar hub --session-request-timeout 500 --port 3333 --tracing false
</code></pre><h4 id=node-with-4-max-sessions-with-debugfine-log-7777-as-port-and-only-with-firefox-and-edge>Node, with 4 max sessions, with debug(fine) log, 7777 as port, and only with Firefox and Edge</h4><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar node --max-sessions 4 --log-level &#34;fine&#34; --port 7777 --driver-implementation &#34;firefox&#34; --driver-implementation &#34;edge&#34;
</code></pre><h4 id=distributor-setting-session-map-server-url-session-queue-server-url-and-disabling-bus>Distributor, setting Session Map server url, Session Queue server url, and disabling bus</h4><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar distributor --sessions http://localhost:5556 --sessionqueue http://localhost:5559 --bind-bus false
</code></pre><h4 id=setting-custom-capabilities-for-matching-specific-nodes>Setting custom capabilities for matching specific Nodes</h4><p><strong>Important:</strong> Custom capabilities need to be set in the configuration in all Nodes. They also
need to be included always in every session request.</p><h5 id=start-the-hub>Start the Hub</h5><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar hub
</code></pre><h5 id=start-the-node-a-with-custom-cap-set-to-true>Start the Node A with custom cap set to <code>true</code></h5><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar node --detect-drivers false --driver-configuration display-name=&#34;Chrome (custom capability true)&#34; max-sessions=1 stereotype=&#39;{&#34;browserName&#34;:&#34;chrome&#34;,&#34;gsg:customcap&#34;:true}&#39; --port 6161
</code></pre><h5 id=start-the-node-b-with-custom-cap-set-to-false>Start the Node B with custom cap set to <code>false</code></h5><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar node --detect-drivers false --driver-configuration display-name=&#34;Chrome (custom capability true)&#34; max-sessions=1 stereotype=&#39;{&#34;browserName&#34;:&#34;chrome&#34;,&#34;gsg:customcap&#34;:false}&#39; --port 6262
</code></pre><h5 id=matching-node-a>Matching Node A</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ChromeOptions</span> <span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;gsg:customcap&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://localhost:4444&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://selenium.dev&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>Set the custom capability to <code>false</code> in order to match the Node B.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e617239c5efb3fbc97f69447f5ba5981>4.3 - Toml Options</h1><div class=lead>Grid configuration examples using Toml files.</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>All the options shown in <a href=/ja/documentation/grid/configuration/cli_options/>CLI options</a> can be configured through
a <a href=https://github.com/toml-lang/toml>TOML</a> file. This page shows configuration examples for the
different Grid components.</p><div class="pageinfo pageinfo-primary"><p>Note that this documentation could be outdated if an option was modified or added
but has not been documented yet. In case you bump into this situation, please check
the <a href=/ja/documentation/grid/configuration/help/>&ldquo;Config help&rdquo;</a> section and feel free to send us a
pull request updating this page.</p></div><h2 id=overview>Overview</h2><p>Selenium Grid uses <a href=https://github.com/toml-lang/toml>TOML</a> format for config files.
The config file consists of sections and each section has options and its respective value(s).</p><p>Refer to the <a href=https://toml.io/en/>TOML documentation</a> for detailed usage guidance. In case of
parsing errors, validate the config using <a href=https://www.toml-lint.com/>TOML linter</a>.</p><p>The general configuration structure has the following pattern:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>section1</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>option1</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;value&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>section2</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>option2</span><span style=color:#000;font-weight:700>=[</span><span style=color:#4e9a06>&#34;value1&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;value2&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>option3</span><span style=color:#000;font-weight:700>=</span><span style=color:#204a87;font-weight:700>true</span>
</span></span></code></pre></div><p>Below are some examples of Grid components configured with a Toml file, the component can be
started in the following way:</p><pre tabindex=0><code>java -jar selenium-server-&lt;version&gt;.jar &lt;component&gt; --config /path/to/file/&lt;file-name&gt;.toml
</code></pre><h3 id=standalone>Standalone</h3><p>A Standalone server, running on port 4449, and a new session request timeout of 500 seconds.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>server</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>port</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4449</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>sessionqueue</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>session-request-timeout</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>500</span>
</span></span></code></pre></div><h3 id=specific-browsers-and-a-limit-of-max-sessions>Specific browsers and a limit of max sessions</h3><p>A Standalone server or a Node which only has Firefox and Chrome enabled by default.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>drivers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;chrome&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;firefox&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>max-sessions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span>
</span></span></code></pre></div><h3 id=configuring-and-customising-drivers>Configuring and customising drivers</h3><p>Standalone or Node server with customised drivers, which allows things like having Firefox Beta
or Nightly, and having different browser versions.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>detect-drivers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>driver-configuration</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#000>max-sessions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>100</span>
</span></span><span style=display:flex><span><span style=color:#000>display-name</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Firefox Nightly&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>stereotype</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;firefox\&#34;, \&#34;browserVersion\&#34;: \&#34;93\&#34;, \&#34;platformName\&#34;: \&#34;MAC\&#34;, \&#34;moz:firefoxOptions\&#34;: {\&#34;binary\&#34;: \&#34;/Applications/Firefox Nightly.app/Contents/MacOS/firefox-bin\&#34;}}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>driver-configuration</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#000>display-name</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Chrome Beta&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>stereotype</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;chrome\&#34;, \&#34;browserVersion\&#34;: \&#34;94\&#34;, \&#34;platformName\&#34;: \&#34;MAC\&#34;, \&#34;goog:chromeOptions\&#34;: {\&#34;binary\&#34;: \&#34;/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta\&#34;}}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>driver-configuration</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#000>display-name</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Chrome Dev&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>stereotype</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;chrome\&#34;, \&#34;browserVersion\&#34;: \&#34;95\&#34;, \&#34;platformName\&#34;: \&#34;MAC\&#34;, \&#34;goog:chromeOptions\&#34;: {\&#34;binary\&#34;: \&#34;/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev\&#34;}}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>webdriver-executable</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#39;/path/to/chromedriver/95/chromedriver&#39;</span>
</span></span></code></pre></div><h3 id=standalone-or-node-with-docker>Standalone or Node with Docker</h3><p>A Standalone or Node server that is able to run each new session in a Docker container. Disabling
drivers detection, having maximum 2 concurrent sessions. Stereotypes configured need to be mapped
to a Docker image, and the Docker daemon needs to be exposed via http/tcp. In addition, it is
possible to define which device files, accessible on the host, will be available in containers
through the <code>devices</code> property. Refer to the <a href=https://docs.docker.com/engine/reference/commandline/run/#add-host-device-to-container---device>docker</a> documentation
for more information about how docker device mapping works.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>detect-drivers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span><span style=color:#000>max-sessions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>docker</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>configs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;selenium/standalone-chrome:93.0&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;chrome\&#34;, \&#34;browserVersion\&#34;: \&#34;91\&#34;}&#34;</span><span style=color:#000;font-weight:700>,</span> 
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;selenium/standalone-firefox:92.0&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;firefox\&#34;, \&#34;browserVersion\&#34;: \&#34;92\&#34;}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#Optionally define all device files that should be mapped to docker containers</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#devices = [</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#    &#34;/dev/kvm:/dev/kvm&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#]</span>
</span></span><span style=display:flex><span><span style=color:#000>url</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;http://localhost:2375&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>video-image</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;selenium/video:latest&#34;</span>
</span></span></code></pre></div><h3 id=relaying-commands-to-a-service-endpoint-that-supports-webdriver>Relaying commands to a service endpoint that supports WebDriver</h3><p>It is useful to connect an external service that supports WebDriver to Selenium Grid.
An example of such service could be a cloud provider or an Appium server. In this way,
Grid can enable more coverage to platforms and versions not present locally.</p><p>The following is an en example of connecting an Appium server to Grid.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>detect-drivers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>relay</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Default Appium/Cloud server endpoint</span>
</span></span><span style=display:flex><span><span style=color:#000>url</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;http://localhost:4723/wd/hub&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>status-endpoint</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/status&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Stereotypes supported by the service. The initial number is &#34;max-sessions&#34;, and will allocate </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># that many test slots to that particular configuration</span>
</span></span><span style=display:flex><span><span style=color:#000>configs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;5&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;{\&#34;browserName\&#34;: \&#34;chrome\&#34;, \&#34;platformName\&#34;: \&#34;android\&#34;, \&#34;appium:platformVersion\&#34;: \&#34;11\&#34;}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><h3 id=basic-auth-enabled>Basic auth enabled</h3><p>It is possible to protect a Grid with basic auth by configuring the Router/Hub/Standalone with
a username and password. This user/password combination will be needed when loading the Grid UI
or starting a new session.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>router</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>username</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;admin&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>password</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;myStrongPassword&#34;</span>
</span></span></code></pre></div><p>Here is a Java example showing how to start a session using the configured user and password.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>URL</span> <span style=color:#000>gridUrl</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://admin:myStrongPassword@localhost:4444&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>RemoteWebDriver</span> <span style=color:#000>webDriver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>gridUrl</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span></code></pre></div><h3 id=setting-custom-capabilities-for-matching-specific-nodes>Setting custom capabilities for matching specific Nodes</h3><p><strong>Important:</strong> Custom capabilities need to be set in the configuration in all Nodes. They also
need to be included always in every session request.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000>detect-drivers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>driver-configuration</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#000>display-name</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;firefox&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>stereotype</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#39;{&#34;browserName&#34;: &#34;firefox&#34;, &#34;platformName&#34;: &#34;macOS&#34;, &#34;browserVersion&#34;:&#34;96&#34;, &#34;networkname:applicationName&#34;:&#34;node_1&#34;, &#34;nodename:applicationName&#34;:&#34;app_1&#34; }&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>max-sessions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span>
</span></span></code></pre></div><p>Here is a Java example showing how to match that Node</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>FirefoxOptions</span> <span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;networkname:applicationName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;node_1&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;nodename:applicationName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;app_1&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setBrowserVersion</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;96&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPlatformName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;macOS&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://localhost:4444&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://selenium.dev&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-9c11ba83187c12a3cd6b4a1789bae031>5 - Grid Architecture</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>The Grid is designed as a set of components that all fulfill a role in
maintaining the Grid. It can seem quite complicated, but hopefully
this document can help clear up any confusion.</p><h2 id=the-key-components>The Key Components</h2><p>The main components of the Grid are:</p><dl><dt>Event Bus<dd>Used for sending messages which may be received asynchronously
between the other components.<dt>Session Queue<dd>Maintains a list of incoming sessions which have yet to be
assigned to a Node by the Distributor.<dt>Distributor<dd>Responsible for maintaining a model of the available locations in
the Grid where a session may run (known as "slots") and taking any
incoming <a href=https://w3c.github.io/webdriver/#new-session>new
session</a> requests and assigning them to a slot.<dt>Node<dd>Runs a <a href=https://w3c.github.io/webdriver/#dfn-sessions>WebDriver
session</a>. Each session is assigned to a slot, and each node has
one or more slots.<dt>Session Map<dd>Maintains a mapping between the <a href=https://w3c.github.io/webdriver/#dfn-session-id>session
ID</a> and the address of the Node the session is running on.<dt>Router<dd>Acts as the front-end of the Grid. This is the only part of the
Grid which _may_ be exposed to the wider Web (though we strongly
caution against it). This routes incoming requests to either the
New Session Queue or the Node on which the session is running.</dl><p>While discussing the Grid, there are some other useful concepts to
keep in mind:</p><ul><li>A <strong>slot</strong> is the place where a session can run.</li><li>Each slot has a <strong>stereotype</strong>. This is the minimal set of
capabilities that a <a href=https://w3c.github.io/webdriver/#new-session>new session</a> session request must match
before the Distributor will send that request to the Node owning
the slot.</li><li>The <strong>Grid Model</strong> is how the Distributor tracks the state of the
Grid. As the name suggests, this may sometimes fall out of sync
with reality (perhaps because the Distributor has only just
started). It is used in preference to querying each Node so that
the Distributor can quickly assign a slot to a New Session request.</li></ul><h2 id=synchronous-and-asynchronous-calls>Synchronous and Asynchronous Calls</h2><p>There are two main communication mechanisms used within the Grid:</p><ol><li>Synchronous &ldquo;REST-ish&rdquo; JSON over HTTP requests.</li><li>Asynchronous events sent to the Event Bus.</li></ol><p>How do we pick which communication mechanism to use? After all, we
could model the entire Grid in an event-based way, and it would work
out just fine.</p><p>The answer is that if the action being performed is synchronous
(eg. most WebDriver calls), or if missing the response would be
problematic, the Grid uses a synchronous call. If, instead, we want to
broadcast information to anyone who&rsquo;s interested, or if missing the
response doesn&rsquo;t matter, then we prefer to use the event bus.</p><p>One interesting thing to note is that the async calls are more
decoupled from their listeners than the synchronous calls are.</p><h2 id=start-up-sequence-and-dependencies-between-components>Start Up Sequence and Dependencies Between Components</h2><p>Although the Grid is designed to allow components to start up in any
order, conceptually the order in which components starts is:</p><ol><li>The Event Bus and Session Map start first. These have no other
dependencies, not even on each other, and so are safe to start in
parallel.</li><li>The Session Queue starts next.</li><li>It is now possible to start the Distributor. This will periodically
connect to the Session Queue and poll for jobs, though this polling
might be initiated either by an event (that a New Session has been
added to the queue) or at regular intervals.</li><li>The Router(s) can be started. New Session requests will be directed
to the Session Queue, and the Distributor will attempt to find a
slot to run the session on.</li><li>We are now able to start a Node. See below for details about how
the Node is registered with the Grid. Once registration is
complete, the Grid is ready to serve traffic.</li></ol><p>You can picture the dependencies between components this way, where a
&ldquo;✅&rdquo; indicates that there is a synchronous dependency between the
components.</p><table><thead><tr><th></th><th>Event Bus</th><th>Distributor</th><th>Node</th><th>Router</th><th>Session Map</th><th>Session Queue</th></tr></thead><tbody><tr><td>Event Bus</td><td>X</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Distributor</td><td>✅</td><td>X</td><td>✅</td><td></td><td></td><td>✅</td></tr><tr><td>Node</td><td>✅</td><td></td><td>X</td><td></td><td></td><td></td></tr><tr><td>Router</td><td></td><td></td><td>✅</td><td>X</td><td>✅</td><td></td></tr><tr><td>Session Map</td><td></td><td></td><td></td><td></td><td>X</td><td></td></tr><tr><td>Session Queue</td><td>✅</td><td></td><td></td><td></td><td></td><td>X</td></tr></tbody></table><h2 id=node-registration>Node Registration</h2><p>The process of registering a new Node to the Grid is lightweight.</p><ol><li>When the Node starts, it should emit a &ldquo;heart beat&rdquo; event on a
regular basis. This heartbeat contains the <a href=https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/grid/data/NodeStatus.html>node status</a>.</li><li>The Distributor listens for the heart beat events. When it sees
one, it attempts to <code>GET</code> the <code>/status</code> endpoint of the Node. It
is from this information that the Grid is set up.</li></ol><p>The Distributor will use the same <code>/status</code> endpoint to check the Node
on a regular basis, but the Node should continue sending heart beat
events even after started so that a Distributor without a persistent
store of the Grid state can be restarted and will (eventually) be up
to date and correct.</p><h3 id=the-node-status-object>The Node Status Object</h3><p>The Node Status is a JSON blob with the following fields:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>availability</td><td>string</td><td>A string which is one of <code>up</code>, <code>draining</code>, or <code>down</code>. The important one is <code>draining</code>, which indicates that no new sessions should be sent to the Node, and once the last session on it closes, the Node will exit or restart.</td></tr><tr><td>externalUrl</td><td>string</td><td>The URI that the other components in the Grid should connect to.</td></tr><tr><td>lastSessionCreated</td><td>integer</td><td>The epoch timestamp of when the last session was created on this Node. The Distributor will attempt to send new sessions to the Node that has been idle longest if all other things are equal.</td></tr><tr><td>maxSessionCount</td><td>integer</td><td>Although a session count can be inferred by counting the number of available slots, this integer value is used to determine the maximum number of sessions that should be running simultaneously on the Node before it is considered &ldquo;full&rdquo;.</td></tr><tr><td>nodeId</td><td>string</td><td>A UUID used to identify this instance of the Node.</td></tr><tr><td>osInfo</td><td>object</td><td>An object with <code>arch</code>, <code>name</code>, and <code>version</code> fields. This is used by the Grid UI and the GraphQL queries.</td></tr><tr><td>slots</td><td>array</td><td>An array of Slot objects (described below)</td></tr><tr><td>version</td><td>string</td><td>The version of the Node (for Selenium, this will match the Selenium version number)</td></tr></tbody></table><p>It is recommended to put values in all fields.</p><h3 id=the-slot-object>The Slot Object</h3><p>The Slot object represents a single slot within a Node. A &ldquo;slot&rdquo; is
where a single session may be run. It is possible that a Node will
have more slots than it can run concurrently. For example, a node may
be able to run up 10 sessions, but they could be any combination of
Chrome, Edge, or Firefox; in this case, the Node would indicate a &ldquo;max
session count&rdquo; of 10, and then also say it has 10 slots for Chrome, 10
for Edge, and 10 for Firefox.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>UUID to refer to the slot</td></tr><tr><td>lastStarted</td><td>string</td><td>When the slot last had a session started, in ISO-8601 format</td></tr><tr><td>stereotype</td><td>object</td><td>The minimal set of <a href=https://w3c.github.io/webdriver/#dfn-merging-capabilities>capabilities</a> this slot will match against. A minimal example is <code>{"browserName": "firefox"}</code></td></tr><tr><td>session</td><td>object</td><td>The Session object (see below)</td></tr></tbody></table><h3 id=the-session-object>The Session Object</h3><p>This represents a running session within a slot</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>capabilities</td><td>object</td><td>The actual capabilities provided by the session. Will match the return value from the <a href=https://w3c.github.io/webdriver/#new-session>new session</a> command</td></tr><tr><td>startTime</td><td>string</td><td>The start time of the session in ISO-8601 format</td></tr><tr><td>stereotype</td><td>object</td><td>The minimal set of <a href=https://w3c.github.io/webdriver/#dfn-merging-capabilities>capabilities</a> this slot will match against. A minimal example is <code>{"browserName": "firefox"}</code></td></tr><tr><td>uri</td><td>string</td><td>The URI used by the Node to communicate with the session</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-abac6f77089fbf05fa24eca43aebeddf>6 - 高度な機能</h1><div class=lead>高度な機能のすべての詳細を取得し、それがどのように機能するか、および独自の設定方法を理解するには、次のセクションを参照してください。</div></div><div class=td-content><h1 id=pg-cff3310fa01f534cfe804c3e76ae9056>6.1 - Observability</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><h2 id=table-of-contents>Table of Contents</h2><ul><li><a href=#selenium-grid>Selenium Grid</a></li><li><a href=#observability>Observability</a><ul><li><a href=#distributed-tracing>Distributed tracing</a></li><li><a href=#event-logging>Event logging</a></li></ul></li><li><a href=#grid-observability>Grid Observability</a><ul><li><a href=#visualizing-traces>Visualizing Traces</a></li><li><a href=#leveraging-event-logs>Leveraging event logs</a></li></ul></li><li><a href=#references>References</a></li></ul><h2 id=selenium-grid>Selenium Grid</h2><p>Grid aids in scaling and distributing tests by executing tests on various browser and operating system combinations.</p><h2 id=observability>Observability</h2><p>Observability has three pillars: traces, metrics and logs. Since Selenium Grid 4 is designed to be fully distributed, observability will make it easier to understand and debug the internals.</p><h2 id=distributed-tracing>Distributed tracing</h2><p>A single request or transaction spans multiple services and components. Tracing tracks the request lifecycle as each service executes the request. It is useful in debugging in an error scenario.
Some key terms used in tracing context are:</p><p><strong>Trace</strong>
Tracing allows one to trace a request through multiple services, starting from its origin to its final destination. This request&rsquo;s journey helps in debugging, monitoring the end-to-end flow, and identifying failures. A trace depicts the end-to-end request flow. Each trace has a unique id as its identifier.</p><p><strong>Span</strong>
Each trace is made up of timed operations called spans. A span has a start and end time and it represents operations done by a service. The granularity of span depends on how it is instrumented. Each span has a unique identifier. All spans within a trace have the same trace id.</p><p><strong>Span Attributes</strong>
Span attributes are key-value pairs which provide additional information about each span.</p><p><strong>Events</strong>
Events are timed-stamped logs within a span. They provide additional context to the existing spans. Events also contain key-value pairs as event attributes.</p><h2 id=event-logging>Event logging</h2><p>Logging is essential to debug an application. Logging is often done in a human-readable format. But for machines to search and analyze the logs, it has to have a well-defined format. Structured logging is a common practice of recording logs consistently in a fixed format. It commonly contains fields like:</p><ul><li>Timestamp</li><li>Logging level</li><li>Logger class</li><li>Log message (This is further broken down into fields relevant to the operation where the log was recorded)</li></ul><p>Logs and events are closely related. Events encapsulate all the possible information available to do a single unit of work. Logs are essentially subsets of an event. At the crux, both aid in debugging.
Refer following resources for detailed understanding:</p><ol><li><a href=https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/>https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/</a></li><li><a href=https://charity.wtf/2019/02/05/logs-vs-structured-events/>https://charity.wtf/2019/02/05/logs-vs-structured-events/</a></li></ol><h2 id=grid-observability>Grid Observability</h2><p>Selenium server is instrumented with tracing using OpenTelemetry. Every request to the server is traced from start to end. Each trace consists of a series of spans as a request is executed within the server.
Most spans in the Selenium server consist of two events:</p><ol><li>Normal event - records all information about a unit of work and marks successful completion of the work.</li><li>Error event - records all information till the error occurs and then records the error information. Marks an exception event.</li></ol><p>Running Selenium server</p><ol><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#standalone-mode>Standalone</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#hub-and-node>Hub and Node</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#fully-distributed>Fully Distributed</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#using-docker>Docker</a></li></ol><h2 id=visualizing-traces>Visualizing Traces</h2><p>All spans, events and their respective attributes are part of a trace. Tracing works while running the server in all of the above-mentioned modes.</p><p>By default, tracing is enabled in the Selenium server. Selenium server exports the traces via two exporters:</p><ol><li>Console - Logs all traces and their included spans at FINE level. By default, Selenium server prints logs at INFO level and above.
The <strong>log-level</strong> flag can be used to pass a logging level of choice while running the Selenium Grid jar/s.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-4.0.0-&lt;selenium-version&gt;.jar standalone --log-level FINE
</span></span></code></pre></div><ol start=2><li>Jaeger UI - OpenTelemetry provides the APIs and SDKs to instrument traces in the code. Whereas Jaeger is a tracing backend, that aids in collecting the tracing telemetry data and providing querying, filtering and visualizing features for the data.</li></ol><p>Detailed instructions of visualizing traces using Jaeger UI can be obtained by running the command :</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-4.0.0-&lt;selenium-version&gt;.jar info tracing
</span></span></code></pre></div><p><a href=https://github.com/manoj9788/tracing-selenium-grid>A very good example and scripts to run the server and send traces to Jaeger</a></p><h2 id=leveraging-event-logs>Leveraging event logs</h2><p>Tracing has to be enabled for event logging as well, even if one does not wish to export traces to visualize them.<br><strong>By default, tracing is enabled. No additional parameters need to be passed to see logs on the console.</strong>
All events within a span are logged at FINE level. Error events are logged at WARN level.</p><p>All event logs have the following fields :</p><table><thead><tr><th>Field</th><th>Field value</th><th>Description</th></tr></thead><tbody><tr><td>Event time</td><td>eventId</td><td>Timestamp of the event record in epoch nanoseconds.</td></tr><tr><td>Trace Id</td><td>tracedId</td><td>Each trace is uniquely identified by a trace id.</td></tr><tr><td>Span Id</td><td>spanId</td><td>Each span within a trace is uniquely identified by a span id.</td></tr><tr><td>Span Kind</td><td>spanKind</td><td>Span kind is a property of span indicating the type of span. It helps in understanding the nature of the unit of work done by the Span.</td></tr><tr><td>Event name</td><td>eventName</td><td>This maps to the log message.</td></tr><tr><td>Event attributes</td><td>eventAttributes</td><td>This forms the crux of the event logs, based on the operation executed, it has JSON formatted key-value pairs. This also includes a handler class attribute, to show the logger class.</td></tr></tbody></table><p>Sample log</p><pre><code>FINE [LoggingOptions$1.lambda$export$1] - {
  &quot;traceId&quot;: &quot;fc8aef1d44b3cc8bc09eb8e581c4a8eb&quot;,
  &quot;spanId&quot;: &quot;b7d3b9865d3ddd45&quot;,
  &quot;spanKind&quot;: &quot;INTERNAL&quot;,
  &quot;eventTime&quot;: 1597819675128886121,
  &quot;eventName&quot;: &quot;Session request execution complete&quot;,
  &quot;attributes&quot;: {
    &quot;http.status_code&quot;: 200,
    &quot;http.handler_class&quot;: &quot;org.openqa.selenium.grid.router.HandleSession&quot;,
    &quot;http.url&quot;: &quot;\u002fsession\u002fdd35257f104bb43fdfb06242953f4c85&quot;,
    &quot;http.method&quot;: &quot;DELETE&quot;,
    &quot;session.id&quot;: &quot;dd35257f104bb43fdfb06242953f4c85&quot;
  }
}
</code></pre><p>In addition to the above fields, based on <a href=https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/exceptions.md>OpenTelemetry specification</a> error logs consist of :</p><table><thead><tr><th>Field</th><th>Field value</th><th>Description</th></tr></thead><tbody><tr><td>Exception type</td><td>exception.type</td><td>The class name of the exception.</td></tr><tr><td>Exception message</td><td>exception.message</td><td>Reason for the exception.</td></tr><tr><td>Exception stacktrace</td><td>exception.stacktrace</td><td>Prints the call stack at the point of time when the exception was thrown. Helps in understanding the origin of the exception.</td></tr></tbody></table><p>Sample error log</p><pre><code>WARN [LoggingOptions$1.lambda$export$1] - {
  &quot;traceId&quot;: &quot;7efa5ea57e02f89cdf8de586fe09f564&quot;,
  &quot;spanId&quot;: &quot;914df6bc9a1f6e2b&quot;,
  &quot;spanKind&quot;: &quot;INTERNAL&quot;,
  &quot;eventTime&quot;: 1597820253450580272,
  &quot;eventName&quot;: &quot;exception&quot;,
  &quot;attributes&quot;: {
    &quot;exception.type&quot;: &quot;org.openqa.selenium.ScriptTimeoutException&quot;,
    &quot;exception.message&quot;: &quot;Unable to execute request: java.sql.SQLSyntaxErrorException: Table 'mysql.sessions_mappa' doesn't exist ...&quot; (full message will be printed),
    &quot;exception.stacktrace&quot;: &quot;org.openqa.selenium.ScriptTimeoutException: java.sql.SQLSyntaxErrorException: Table 'mysql.sessions_mappa' doesn't exist\nBuild info: version: '4.0.0-alpha-7', revision: 'Unknown'\nSystem info: host: 'XYZ-MacBook-Pro.local', ip: 'fe80:0:0:0:10d5:b63a:bdc6:1aff%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '11.0.7'\nDriver info: driver.version: unknown ....&quot; (full stack will be printed),
    &quot;http.handler_class&quot;: &quot;org.openqa.selenium.grid.distributor.remote.RemoteDistributor&quot;,
    &quot;http.url&quot;: &quot;\u002fsession&quot;,
    &quot;http.method&quot;: &quot;POST&quot;
  }
}
</code></pre><p>Note: Logs are pretty printed above for readability. Pretty printing for logs is turned off in Selenium server.</p><p>The steps above should set you up for seeing traces and logs.</p><h2 id=references>References</h2><ol><li><a href=https://lightstep.com/blog/opentelemetry-101-what-is-tracing/>Understanding Tracing</a></li><li><a href=https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/api.md#status>OpenTelemetry Tracing API Specification</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki>Selenium Wiki</a></li><li><a href=https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/>Structured logs vs events</a></li><li><a href=https://github.com/jaegertracing/jaeger>Jaeger framework</a></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-b11540ed82255545d0e8201c6e111a70>6.2 - GraphQLクエリのサポート</h1><p>GraphQLは、APIのクエリ言語であり、既存のデータでこれらのクエリを実行するためのランタイムです。
これにより、ユーザーは必要なものだけを正確に要求することができます。</p><h2 id=列挙型enum>列挙型(Enum)</h2><p>列挙型は、フィールドの可能な値のセットを表します。</p><p>たとえば、 <code>Node</code> オブジェクトには <code>status</code> というフィールドがあります。
<code>UP</code> 、 <code>DRAINING</code> 、または <code>UNAVAILABLE</code> の可能性があるため、状態は、 列挙型（具体的には、<code>Status</code> タイプ）です。</p><h2 id=スカラー>スカラー</h2><p>スカラーはプリミティブ値です： <code>Int</code> 、 <code>Float</code> 、 <code>String</code> 、 <code>Boolean</code> 、または <code>ID</code> 。</p><p>GraphQL APIを呼び出すときは、スカラーのみを返すまでネストされたサブフィールドを指定する必要があります。</p><h2 id=スキーマの構造>スキーマの構造</h2><p>グリッドスキーマの構造は次のとおりです。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    session<span style=color:#ce5c00;font-weight:700>(</span>id: <span style=color:#4e9a06>&#34;&lt;session-id&gt;&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> : <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        id,
</span></span><span style=display:flex><span>        capabilities,
</span></span><span style=display:flex><span>        startTime,
</span></span><span style=display:flex><span>        uri,
</span></span><span style=display:flex><span>        nodeId,
</span></span><span style=display:flex><span>        nodeUri,
</span></span><span style=display:flex><span>        sessionDurationMillis
</span></span><span style=display:flex><span>        slot : <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            id,
</span></span><span style=display:flex><span>            stereotype,
</span></span><span style=display:flex><span>            lastStarted
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    grid: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        uri,
</span></span><span style=display:flex><span>        totalSlots,
</span></span><span style=display:flex><span>        nodeCount,
</span></span><span style=display:flex><span>        maxSession,
</span></span><span style=display:flex><span>        sessionCount,
</span></span><span style=display:flex><span>        version,
</span></span><span style=display:flex><span>        sessionQueueSize
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    sessionsInfo: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        sessionQueueRequests,
</span></span><span style=display:flex><span>        sessions: <span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                id,
</span></span><span style=display:flex><span>                capabilities,
</span></span><span style=display:flex><span>                startTime,
</span></span><span style=display:flex><span>                uri,
</span></span><span style=display:flex><span>                nodeId,
</span></span><span style=display:flex><span>                nodeUri,
</span></span><span style=display:flex><span>                sessionDurationMillis
</span></span><span style=display:flex><span>                slot : <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    id,
</span></span><span style=display:flex><span>                    stereotype,
</span></span><span style=display:flex><span>                    lastStarted
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    nodesInfo: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        nodes : <span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                id,
</span></span><span style=display:flex><span>                uri,
</span></span><span style=display:flex><span>                status,
</span></span><span style=display:flex><span>                maxSession,
</span></span><span style=display:flex><span>                slotCount,
</span></span><span style=display:flex><span>                sessions: <span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        id,
</span></span><span style=display:flex><span>                        capabilities,
</span></span><span style=display:flex><span>                        startTime,
</span></span><span style=display:flex><span>                        uri,
</span></span><span style=display:flex><span>                        nodeId,
</span></span><span style=display:flex><span>                        nodeUri,
</span></span><span style=display:flex><span>                        sessionDurationMillis
</span></span><span style=display:flex><span>                        slot : <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                            id,
</span></span><span style=display:flex><span>                            stereotype,
</span></span><span style=display:flex><span>                            lastStarted
</span></span><span style=display:flex><span>                        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>]</span>,
</span></span><span style=display:flex><span>                sessionCount,
</span></span><span style=display:flex><span>                stereotypes,
</span></span><span style=display:flex><span>                version,
</span></span><span style=display:flex><span>                osInfo: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    arch,
</span></span><span style=display:flex><span>                    name,
</span></span><span style=display:flex><span>                    version
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=graphqlで照会する>GraphQLで照会する</h2><p>GraphQLをクエリする最良の方法は、 <code>curl</code> リクエストを使用することです。
GraphQLを使用すると、必要なデータのみをフェッチできます。それ以上でもそれ以下でもありません。</p><p>GraphQLクエリの例のいくつかを以下に示します。 必要に応じて独自のクエリを作成できます。</p><h3 id=グリッド内の-maxsessionと-sessioncountの数を照会する>グリッド内の <code>maxSession</code>と<code> sessionCount</code>の数を照会する</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ grid { maxSession, sessionCount } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><p>通常、ローカルマシンでは、 <code>&lt;LINK_TO_GRAPHQL_ENDPOINT></code> は <code>http://localhost:4444/graphql</code> になります。</p><h3 id=セッションノードグリッドのすべての詳細を照会する>セッション、ノード、グリッドのすべての詳細を照会する</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { uri, maxSession, sessionCount }, nodesInfo { nodes { id, uri, status, sessions { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } }, slotCount, sessionCount }} }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッドで現在のセッション数を取得するためのクエリ>グリッドで現在のセッション数を取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { sessionCount } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッドで最大セッション数を取得するためのクエリ>グリッドで最大セッション数を取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { maxSession } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッド内のすべてのノードのすべてのセッションの詳細を取得するためのクエリ>グリッド内のすべてのノードのすべてのセッションの詳細を取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessions { id, capabilities, startTime, uri, nodeId, nodeId, sessionDurationMillis } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッド内の各ノードのすべてのセッションのスロット情報を取得するためのクエリ>グリッド内の各ノードのすべてのセッションのスロット情報を取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessions { id, slot { id, stereotype, lastStarted } } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=特定のセッションのセッション情報を取得するためのクエリ>特定のセッションのセッション情報を取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ session (id: \&#34;&lt;session-id&gt;\&#34;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } &#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッド内の各ノードのcapabilityを照会する>グリッド内の各ノードのcapabilityを照会する</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { stereotypes } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=グリッド内の各ノードのステータスを照会する>グリッド内の各ノードのステータスを照会する</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { status } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=各ノードとグリッドのuriを照会する>各ノードとグリッドのURIを照会する</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { uri } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=新しいセッションキューで現在のリクエストを取得するためのクエリ>新しいセッションキューで現在のリクエストを取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessionQueueRequests } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div><h3 id=新しいセッションキューのサイズを取得するためのクエリ>新しいセッションキューのサイズを取得するためのクエリ</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { sessionQueueSize } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d62408233c3d62bcee1fef32842d1ecd>6.3 - Grid Endpoints</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><h2 id=grid>Grid</h2><h3 id=grid-status>Grid Status</h3><p>Grid status provides the current state of the Grid. It consists of details about every registered Node.
For every Node, the status includes information regarding Node availability, sessions, and slots.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL GET <span style=color:#4e9a06>&#39;http://localhost:4444/status&#39;</span>
</span></span></code></pre></div><p>In the Standalone mode, the Grid URL is the Standalone server address.</p><p>In the Hub-Node mode, the Grid URL is the Hub server address.</p><p>In the fully distributed mode, the Grid URL is the Router server address.</p><p>Default URL for all the above modes is http://localhost:4444.</p><h2 id=distributor>Distributor</h2><h3 id=remove-node>Remove Node</h3><p>To remove the Node from the Grid, use the cURL command enlisted below.
It does not stop any ongoing session running on that Node.
The Node continues running as it is unless explicitly killed.
The Distributor is no longer aware of the Node and hence any matching new session request
will not be forwarded to that Node.</p><p>In the Standalone mode, the Distributor URL is the Standalone server address.</p><p>In the Hub-Node mode, the Distributor URL is the Hub server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt; &#39;</span>
</span></span></code></pre></div><p>In the fully distributed mode, the URL is the Distributor server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5553/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;Distributor-URL&gt;/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><h3 id=drain-node>Drain Node</h3><p>Node drain command is for graceful node shutdown.
Draining a Node stops the Node after all the ongoing sessions are complete.
However, it does not accept any new session requests.</p><p>In the Standalone mode, the Distributor URL is the Standalone server address.</p><p>In the Hub-Node mode, the Distributor URL is the Hub server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt; &#39;</span>
</span></span></code></pre></div><p>In the fully distributed mode, the URL is the Distributor server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:5553/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request POST <span style=color:#4e9a06>&#39;http://&lt;Distributor-URL&gt;/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><h2 id=node>Node</h2><p>The endpoints in this section are applicable for Hub-Node mode and fully distributed Grid mode where the
Node runs independently.
The default Node URL is http://localhost:5555 in case of one Node.
In case of multiple Nodes, use <a href=#grid-status>Grid status</a> to get all Node details and locate the Node address.</p><h3 id=status>Status</h3><p>The Node status is essentially a health-check for the Node.
Distributor pings the node status are regular intervals and updates the Grid Model accordingly.
The status includes information regarding availability, sessions, and slots.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5555/status&#39;</span>
</span></span></code></pre></div><h3 id=drain>Drain</h3><p>Distributor passes the <a href=#drain-node>drain</a> command to the appropriate node identified by the node-id.
To drain the Node directly, use the cuRL command enlisted below.
Both endpoints are valid and produce the same result. Drain finishes the ongoing sessions before stopping the Node.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request POST <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><h3 id=check-session-owner>Check session owner</h3><p>To check if a session belongs to a Node, use the cURL command enlisted below.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/owner/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request GET <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/owner/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><p>It will return true if the session belongs to the Node else it will return false.</p><h3 id=delete-session>Delete session</h3><p>Deleting the session terminates the WebDriver session, quits the driver and removes it from the active sessions map.
Any request using the removed session-id or reusing the driver instance will throw an error.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/session/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/session/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><h2 id=new-session-queue>New Session Queue</h2><h3 id=clear-new-session-queue>Clear New Session Queue</h3><p>New Session Request Queue holds the new session requests.
To clear the queue, use the cURL command enlisted below.
Clearing the queue rejects all the requests in the queue. For each such request, the server returns an error response to the respective client.
The result of the clear command is the total number of deleted requests.</p><p>In the Standalone mode, the Queue URL is the Standalone server address.</p><p>In the Hub-Node mode, the Queue URL is the Hub server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/newsessionqueue/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>In the fully distributed mode, the Queue URL is New Session Queue server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5559/se/grid/newsessionqueue/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</span></span></code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;URL&gt;/se/grid/newsessionqueue/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</span></span></code></pre></div><h3 id=get-new-session-queue-requests>Get New Session Queue Requests</h3><p>New Session Request Queue holds the new session requests.
To get the current requests in the queue, use the cURL command enlisted below.
The response returns the total number of requests in the queue and the request payloads.</p><p>In the Standalone mode, the Queue URL is the Standalone server address.</p><p>In the Hub-Node mode, the Queue URL is the Hub server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/newsessionqueue/queue&#39;</span>
</span></span></code></pre></div><p>In the fully distributed mode, the Queue URL is New Session Queue server address.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5559/se/grid/newsessionqueue/queue&#39;</span>
</span></span></code></pre></div></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/experitest.png alt=Experitest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.lambdatest.com/selenium-automation class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.subject-7.com/unified-testing/?utm_source=selenium&utm_medium=unifiedtesting&utm_campaign=product" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/subject7_logo.png alt=Subject7></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.avoautomation.ai/why-avo//?utm_source=SeleniumHQ&utm_medium=listing&utm_campaign=SeleniumHQ" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/Avo_logo.png alt="Avo Automation"></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text>Want to support the Selenium project? Learn more or view the full list of sponsors.</p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase font-weight-bold">Learn more
<i class="pl-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/seleniumhq/shared_invite/zt-vv33sc0w-VKKQop3WDV_lfrLXGGHvDw aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://kiwiirc.com/nextclient/irc.libera.chat/#selenium aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Software Freedom Conservancy All Rights Reserved</small><p class=mt-2><a href=/ja/documentation/about/>このドキュメントについて</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.68e31ec429bf4c76d0cfc803a06912682cfe4274c4cafeb4d70d00cfe3c3b618.js integrity="sha256-aOMexCm/THbQz8gDoGkSaCz+QnTEyv601w0Az+PDthg=" crossorigin=anonymous></script>
<script src=/js/prism.js></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>docsearch({container:"#docsearch",appId:"6IOXA5JK7Z",indexName:"selenium",apiKey:"2b44a1d3530f9951dd6502059058984a",debug:!1})</script></body></html>