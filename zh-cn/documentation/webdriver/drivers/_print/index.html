<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=/zh-cn/documentation/webdriver/drivers/><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>驱动会话 | Selenium</title><meta name=description content="Selenium automates browsers. That's it!"><meta property="og:title" content="驱动会话"><meta property="og:description" content="Selenium automates browsers. That's it!"><meta property="og:type" content="website"><meta property="og:url" content="/zh-cn/documentation/webdriver/drivers/"><meta property="og:image" content="/images/selenium_4_logo.png"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="驱动会话"><meta itemprop=description content="Selenium automates browsers. That's it!"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/selenium_4_logo.png"><meta name=twitter:title content="驱动会话"><meta name=twitter:description content="Selenium automates browsers. That's it!"><link rel=preload href=/scss/main.min.30eaa91960da82a2c85d5cea1c96b5adce89ff7d7ea6e9bd78f92adceda13901.css as=style><link href=/scss/main.min.30eaa91960da82a2c85d5cea1c96b5adce89ff7d7ea6e9bd78f92adceda13901.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script defer data-domain=selenium.dev src=https://plausible.io/js/plausible.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-light bg-white flex-row td-navbar"><a class=navbar-brand href=/zh-cn/><span class=navbar-logo><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-1{fill:#43b02a}</style></defs><title>Selenium logo green</title><path class="cls-1" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-1" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-1" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-1" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-1" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-1" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-1" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-1" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-1" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-1" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-cn/about>About Selenium</a>
<a class=dropdown-item href=/zh-cn/project>Structure and Governance</a>
<a class=dropdown-item href=/zh-cn/events>Events</a>
<a class=dropdown-item href=/zh-cn/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/zh-cn/history>History</a>
<a class=dropdown-item href=/zh-cn/getinvolved>Get Involved</a>
<a class=dropdown-item href=/zh-cn/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文简体</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/webdriver/drivers/>English</a>
<a class=dropdown-item href=/pt-br/documentation/webdriver/drivers/>Português (Brasileiro)</a>
<a class=dropdown-item href=/ja/documentation/webdriver/drivers/>日本語</a></div></li></ul><div class=navbar-nav><div id=docsearch></div></div></div></nav><section id=announcement-banner class="alert-static row -bg-selenium-blue"><div class=container style=padding:10px><div class="row justify-content-center"><div class="alert alert-selenium-blue col-12 fade show mb-0 p-0 -bg-selenium-blue" role=alert><h4 class="alert-heading text-center m-0">Ready to level up your Selenium skills? Learn from the experts at SeleniumConf! March 28-30 in Chicago.
<a href="https://seleniumconf.com/register/?utm_source=seleniumhq&utm_medium=banner" target=_blank aria-pressed=true>Get Tickets</a></h4></div></div></div></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/documentation/webdriver/drivers/>返回本页常规视图</a>.</p></div><h1 class=title>驱动会话</h1><ul><li>1: <a href=#pg-eceb2fa6f5734a163b76f0f05d50ce51>浏览器选项</a></li><li>2: <a href=#pg-57a6b2296172e62e94628610d9c999ef>浏览器服务</a></li><li>3: <a href=#pg-de7f2ed0cc28a9e8748f333a94a841ea>命令监听器</a></li><li>4: <a href=#pg-d0a01f748f36bb31ddb20c182ec95e0e>命令执行器</a></li><li>5: <a href=#pg-16183125c40ffe05c8673aa3affcdcf8>远程WebDriver</a></li></ul><div class=content><p>启动和停止会话, 用于打开和关闭浏览器.</p><h2 id=创建会话>创建会话</h2><p>创建会话对应于W3C的命令 <a href=https://w3c.github.io/webdriver/#new-session>新建会话</a></p><p>会话是通过初始化新的驱动类对象自动创建的.</p><p>每种语言都允许使用来自这些类 (或等效类) 之一的参数创建会话:</p><ul><li><a href=/zh-cn/documentation/webdriver/drivers/options/>选项</a> 描述您想要的会话类型; 默认值为local，但是对于remote则是必须设置的</li><li>各种形式的 <a href=/zh-cn/documentation/webdriver/drivers/executors/>命令执行器</a> (实现因语言而异)</li><li><a href=/zh-cn/documentation/webdriver/drivers/listeners/>监听器</a></li></ul><h3 id=本地驱动>本地驱动</h3><p>启动本地驱动的首要唯一参数
包括在本地计算机上有关启动所需驱动服务的信息.</p><ul><li><a href=/zh-cn/documentation/webdriver/drivers/service/>服务</a> 对象仅适用于本地驱动，并提供有关浏览器驱动的信息</li></ul><div class="row justify-content-center my-1"><div class="alert alert-orange -bg-selenium-cyan-20 col-10 pl-lg-5 mb-0 alert-dismissible fade show" role=alert><h2 class="alert-heading pb-3 text-center">Coding Help</h2><div class=w-100><strong>Note:</strong>
This section could use some updated code examples<br><br>显示具有多个参数的启动本地驱动方式.<br><br>Check our <a href=/zh-cn/documentation/about/contributing/>contribution guidelines</a> and <a href=/zh-cn/documentation/about/style#code-examples>code example formats</a> if you&rsquo;d like to help.</div><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div></div><h3 id=远程驱动>远程驱动</h3><p>用于启动远程驱动的首要唯一参数包括有关在何处执行代码的信息.
请浏览 <a href=/zh-cn/documentation/webdriver/drivers/remote_webdriver/>远程驱动章节</a>中的详细信息</p><h2 id=退出会话>退出会话</h2><p>退出会话对应于W3C的命令 <a href=https://w3c.github.io/webdriver/#delete-session>删除会话</a>.</p><p>重要提示: <code>quit</code> 方法与 <code>close</code> 方法不同,
建议始终使用 <code>quit</code> 来结束会话</p><div class="row justify-content-center my-1"><div class="alert alert-orange -bg-selenium-cyan-20 col-10 pl-lg-5 mb-0 alert-dismissible fade show" role=alert><h2 class="alert-heading pb-3 text-center">Coding Help</h2><div class=w-100><strong>Note:</strong>
This section could use some updated code examples<br><br>显示退出会话.<br><br>Check our <a href=/zh-cn/documentation/about/contributing/>contribution guidelines</a> and <a href=/zh-cn/documentation/about/style#code-examples>code example formats</a> if you&rsquo;d like to help.</div><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-eceb2fa6f5734a163b76f0f05d50ce51>1 - 浏览器选项</h1><div class=lead>这些capabilities用于所有浏览器.</div><p>在 Selenium 3 中, capabilities是借助"Desired Capabilities"类定义于会话中的.
从 Selenium 4 开始, 您必须使用浏览器选项类.
对于远程驱动程序会话, 浏览器选项实例是必需的, 因为它确定将使用哪个浏览器.</p><p>这些选项在 <a href=https://w3c.github.io/webdriver/#capabilities>Capabilities</a> 的 w3c 规范中进行了描述.</p><p>每个浏览器都有 <a href=/zh-cn/documentation/webdriver/browsers/>自定义选项</a> , 是规范定义之外的内容.</p><h2 id=browsername>browserName</h2><p>此功能用于设置既定会话的 <code>browserName</code> .
如果未在远端安装指定的浏览器,
则会话创建将失败</p><h2 id=browserversion>browserVersion</h2><p>此功能是可选的, 用于在远程端设置可用的浏览器版本.
例如, 如果在仅安装80版本的系统上询问75版本的Chrome,
则会话创建将失败</p><h2 id=pageloadstrategy>pageLoadStrategy</h2><p>共有三种类型的页面加载策略.</p><p>页面加载策略可以在此链接查询
<a href=//developer.mozilla.org/en-US/docs/Web/API/Document/readyState>document.readyState</a> ,
如下表所述:</p><table><thead><tr><th>策略</th><th>就绪状态</th><th>备注</th></tr></thead><tbody><tr><td>normal</td><td>complete</td><td>默认值, 等待所有资源下载</td></tr><tr><td>eager</td><td>interactive</td><td>DOM 访问已准备就绪, 但诸如图像的其他资源可能仍在加载</td></tr><tr><td>none</td><td>Any</td><td>完全不会阻塞 WebDriver</td></tr></tbody></table><p>文档的 <code>document.readyState</code> 属性描述当前文档的加载状态.</p><p>当通过URL导航到新页面时,
默认情况下, WebDriver将暂缓完成导航方法
(例如, driver.navigate().get())直到文档就绪状态完成.
这 <em>并非意味着该页面已完成加载</em>,
特别是对于使用 JavaScript 在就绪状态返回完成后
动态加载内容单页应用程序的站点.
另请注意此行为不适用于单击元素或提交表单后出现的导航行为.</p><p>如果由于下载对自动化不重要的资源(例如, 图像、css、js)
而需要很长时间才能加载页面,
您可以将默认参数<code>normal</code>更改为
<code>eager</code> 或 <code>none</code> 以加快会话加载速度.
此值适用于整个会话,
因此请确保您的 <a href=/zh-cn/documentation/webdriver/waits/>等待策略</a>
足够普适.</p><h3 id=normal-默认值>normal (默认值)</h3><p>WebDriver一直等到 <a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event>load</a>
事件触发并返回.</p><ul class="nav nav-tabs" id=tabs-2 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-02-00-tab data-toggle=tab href=#tabs-02-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-02-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-02-01-tab data-toggle=tab href=#tabs-02-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-02-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-02-02-tab data-toggle=tab href=#tabs-02-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-02-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-02-03-tab data-toggle=tab href=#tabs-02-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-02-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-02-04-tab data-toggle=tab href=#tabs-02-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-02-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-02-05-tab data-toggle=tab href=#tabs-02-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-02-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-2-content><div class="tab-pane fade show active" id=tabs-02-00 role=tabpanel aria-labelled-by=tabs-02-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ChromeOptions</span> <span style=color:#000>chromeOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>NORMAL</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Navigate to Url
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-01 role=tabpanel aria-labelled-by=tabs-02-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium.webdriver.chrome.options</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Options</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Options</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;normal&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Chrome</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-02 role=tabpanel aria-labelled-by=tabs-02-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium.Chrome</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>namespace</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Main</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PageLoadStrategy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Normal</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.com&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-03 role=tabpanel aria-labelled-by=tabs-02-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#204a87>require</span> <span style=color:#4e9a06>&#39;selenium-webdriver&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chrome</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>:normal</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span> <span style=color:#4e9a06>:chrome</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>options</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>options</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>)</span></span></span></code></pre></div></div><div class="tab-body tab-pane fade" id=tabs-02-04 role=tabpanel aria-labelled-by=tabs-02-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>    <span style=color:#000>it</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Navigate using normal page loading strategy&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>env</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>builder</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>setChromeOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;normal&#39;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>);</span></span></span></code></pre></div><div class="text-right pb-2"><a href=https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/javascript/test/capabilities/pageLoading.spec.js#L28-L34 target=_blank><i class="fas fa-external-link-alt pl-2"></i>
<small>Check code on GitHub</small></a></div></div><div class="tab-pane fade" id=tabs-02-05 role=tabpanel aria-labelled-by=tabs-02-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NORMAL</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div></div><h3 id=eager>eager</h3><p>WebDriver一直等到 <a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_event>DOMContentLoaded</a>
事件触发并返回.</p><ul class="nav nav-tabs" id=tabs-3 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-03-00-tab data-toggle=tab href=#tabs-03-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-03-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-03-01-tab data-toggle=tab href=#tabs-03-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-03-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-03-02-tab data-toggle=tab href=#tabs-03-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-03-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-03-03-tab data-toggle=tab href=#tabs-03-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-03-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-03-04-tab data-toggle=tab href=#tabs-03-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-03-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-03-05-tab data-toggle=tab href=#tabs-03-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-03-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-3-content><div class="tab-pane fade show active" id=tabs-03-00 role=tabpanel aria-labelled-by=tabs-03-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ChromeOptions</span> <span style=color:#000>chromeOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>EAGER</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Navigate to Url
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-01 role=tabpanel aria-labelled-by=tabs-03-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium.webdriver.chrome.options</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Options</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Options</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;eager&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Chrome</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-02 role=tabpanel aria-labelled-by=tabs-03-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium.Chrome</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>namespace</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Main</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PageLoadStrategy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Eager</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.com&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-03 role=tabpanel aria-labelled-by=tabs-03-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#204a87>require</span> <span style=color:#4e9a06>&#39;selenium-webdriver&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chrome</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>:eager</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span> <span style=color:#4e9a06>:chrome</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>options</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>options</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>)</span></span></span></code></pre></div></div><div class="tab-body tab-pane fade" id=tabs-03-04 role=tabpanel aria-labelled-by=tabs-03-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>    <span style=color:#000>it</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Navigate using eager page loading strategy&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>env</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>builder</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>setChromeOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;eager&#39;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>);</span></span></span></code></pre></div><div class="text-right pb-2"><a href=https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/javascript/test/capabilities/pageLoading.spec.js#L8-L14 target=_blank><i class="fas fa-external-link-alt pl-2"></i>
<small>Check code on GitHub</small></a></div></div><div class="tab-pane fade" id=tabs-03-05 role=tabpanel aria-labelled-by=tabs-03-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>EAGER</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div></div><h3 id=none>none</h3><p>WebDriver 仅等待初始页面已下载.</p><ul class="nav nav-tabs" id=tabs-4 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-04-00-tab data-toggle=tab href=#tabs-04-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-04-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-04-01-tab data-toggle=tab href=#tabs-04-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-04-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-04-02-tab data-toggle=tab href=#tabs-04-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-04-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-04-03-tab data-toggle=tab href=#tabs-04-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-04-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-04-04-tab data-toggle=tab href=#tabs-04-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-04-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-04-05-tab data-toggle=tab href=#tabs-04-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-04-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-4-content><div class="tab-pane fade show active" id=tabs-04-00 role=tabpanel aria-labelled-by=tabs-04-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ChromeOptions</span> <span style=color:#000>chromeOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>NONE</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Navigate to Url
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-04-01 role=tabpanel aria-labelled-by=tabs-04-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium.webdriver.chrome.options</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Options</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Options</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;none&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Chrome</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-04-02 role=tabpanel aria-labelled-by=tabs-04-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium.Chrome</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>namespace</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>pageLoadStrategy</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Main</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PageLoadStrategy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>None</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.com&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-04-03 role=tabpanel aria-labelled-by=tabs-04-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#204a87>require</span> <span style=color:#4e9a06>&#39;selenium-webdriver&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chrome</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>page_load_strategy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>:none</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span> <span style=color:#4e9a06>:chrome</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>options</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>options</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>)</span></span></span></code></pre></div></div><div class="tab-body tab-pane fade" id=tabs-04-04 role=tabpanel aria-labelled-by=tabs-04-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>    <span style=color:#000>it</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Navigate using none page loading strategy&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>env</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>builder</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>setChromeOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;none&#39;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;https://www.google.com&#39;</span><span style=color:#000;font-weight:700>);</span></span></span></code></pre></div><div class="text-right pb-2"><a href=https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/javascript/test/capabilities/pageLoading.spec.js#L18-L24 target=_blank><i class="fas fa-external-link-alt pl-2"></i>
<small>Check code on GitHub</small></a></div></div><div class="tab-pane fade" id=tabs-04-05 role=tabpanel aria-labelled-by=tabs-04-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.PageLoadStrategy</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPageLoadStrategy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>PageLoadStrategy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NONE</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div></div><h2 id=platformname>platformName</h2><p>这标识了远端的操作系统,
获取 <code>platformName</code> 将返回操作系统的名称.</p><p>在基于云的供应者中,
设置 <code>platformName</code> 将在远程端设置操作系统.</p><h2 id=acceptinsecurecerts>acceptInsecureCerts</h2><p>此功能检查在会话期间导航时
是否使用了过期的 (或) 无效的 <code>TLS Certificate</code> .</p><p>如果将功能设置为 <code>false</code>,
则页面浏览遇到任何域证书问题时,
将返回<a href=//developer.mozilla.org/zh-CN/docs/Web/WebDriver/Errors/InsecureCertificate>insecure certificate error</a> .
如果设置为 <code>true</code>, 则浏览器将信任无效证书.</p><p>默认情况下, 此功能将信任所有自签名证书.
设置后, <code>acceptInsecureCerts</code> 功能将在整个会话中生效.</p><h2 id=timeouts>timeouts</h2><p>WebDriver <code>session</code> 具有一定的 <code>session timeout</code> 间隔,
在此间隔内, 用户可以控制执行脚本或从浏览器检索信息的行为.</p><p>每个会话超时都配置有不同 <code>timeouts</code> 的组合,
如下所述:</p><h3 id=script-timeout>Script Timeout:</h3><p>指定在当前浏览上下文中, 中断正在执行脚本的时机.
WebDriver创建新会话时,
将设置默认的超时时间为 <strong>30,000</strong> .</p><h3 id=page-load-timeout>Page Load Timeout:</h3><p>指定在当前浏览上下文中, 加载网页的时间间隔.
WebDriver创建新会话时,
默认设置超时时间为 <strong>300,000</strong> .
如果页面加载限制了给定 (或默认) 的时间范围,
则该脚本将被 <em>TimeoutException</em> 停止.</p><h3 id=implicit-wait-timeout>Implicit Wait Timeout</h3><p>指定在定位元素时, 等待隐式元素定位策略的时间.
WebDriver创建新会话时,
将设置默认超时时间为 <strong>0</strong> .</p><h2 id=unhandledpromptbehavior>unhandledPromptBehavior</h2><p>指定当前会话 <code>user prompt handler</code> 的状态.
默认为 <strong>dismiss and notify state</strong> .</p><h3 id=user-prompt-handler>User Prompt Handler</h3><p>这定义了在远端出现用户提示时必须采取的措施.
该行为由<code>unhandledPromptBehavior</code> 功能定义,
具有以下状态:</p><ul><li>dismiss</li><li>accept</li><li>dismiss and notify</li><li>accept and notify</li><li>ignore</li></ul><h2 id=setwindowrect>setWindowRect</h2><p>用于所有支持 <a href=https://w3c.github.io/webdriver/#resizing-and-positioning-windows>调整大小和重新定位</a>
<a href=https://w3c.github.io/webdriver/#dfn-commands>命令</a> 的远程终端.</p><h2 id=strictfileinteractability>strictFileInteractability</h2><p>新功能用于是否对 <em>类型为文件的输入(input type=file)</em> 元素进行严格的交互性检查.
默认关闭严格性检查,
在将 <em>元素的Send Keys</em> 方法作用于隐藏的文件上传时,
会有控制方面的行为区别.</p><h2 id=proxy>proxy</h2><p>代理服务器充当客户端和服务器之间的请求中介.
简述而言, 流量将通过代理服务器流向您请求的地址, 然后返回.</p><p>使用代理服务器用于Selenium的自动化脚本,
可能对以下方面有益:</p><ul><li>捕获网络流量</li><li>模拟网站后端响应</li><li>在复杂的网络拓扑结构或严格的公司限制/政策下访问目标站点.</li></ul><p>如果您在公司环境中,
并且浏览器无法连接到URL,
则最有可能是因为环境, 需要借助代理进行访问.</p><p>Selenium WebDriver提供了如下设置代理的方法</p><ul class="nav nav-tabs" id=tabs-5 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-05-00-tab data-toggle=tab href=#tabs-05-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-05-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-05-01-tab data-toggle=tab href=#tabs-05-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-05-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-05-02-tab data-toggle=tab href=#tabs-05-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-05-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-05-03-tab data-toggle=tab href=#tabs-05-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-05-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-05-04-tab data-toggle=tab href=#tabs-05-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-05-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-05-05-tab data-toggle=tab href=#tabs-05-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-05-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-5-content><div class="tab-pane fade show active" id=tabs-05-00 role=tabpanel aria-labelled-by=tabs-05-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.Proxy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>proxyTest</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000>Proxy</span> <span style=color:#000>proxy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Proxy</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>proxy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setHttpProxy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;&lt;HOST:PORT&gt;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>ChromeOptions</span> <span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;proxy&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>proxy</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.google.com/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>manage</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>window</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>maximize</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-05-01 role=tabpanel aria-labelled-by=tabs-05-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>PROXY</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&lt;HOST:PORT&gt;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>DesiredCapabilities</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>FIREFOX</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;proxy&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;httpProxy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>PROXY</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;ftpProxy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>PROXY</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;sslProxy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>PROXY</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;proxyType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;MANUAL&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>with</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Firefox</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Open URL</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://selenium.dev&#34;</span><span style=color:#000;font-weight:700>)</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-05-02 role=tabpanel aria-labelled-by=tabs-05-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>OpenQA.Selenium.Chrome</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ProxyTest</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000>ChromeOptions</span> <span style=color:#000>options</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>Proxy</span> <span style=color:#000>proxy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Proxy</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>proxy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Kind</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ProxyKind</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Manual</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>proxy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IsAutoDetect</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>proxy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SslProxy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&lt;HOST:PORT&gt;&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Proxy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>proxy</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddArgument</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ignore-certificate-errors&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.selenium.dev/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-05-03 role=tabpanel aria-labelled-by=tabs-05-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#8f5902;font-style:italic># this code was written with Selenium 4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>proxy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Proxy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>new</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>http</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#39;&lt;HOST:PORT&gt;&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>cap</span>   <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Remote</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Capabilities</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chrome</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>proxy</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>proxy</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>:chrome</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>capabilities</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>cap</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;http://google.com&#39;</span><span style=color:#000;font-weight:700>)</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-05-04 role=tabpanel aria-labelled-by=tabs-05-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>webdriver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;selenium-webdriver&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>chrome</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;selenium-webdriver/chrome&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>proxy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;selenium-webdriver/proxy&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>chrome</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Options</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>example</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setProxy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>proxy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>manual</span><span style=color:#000;font-weight:700>({</span><span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;&lt;HOST:PORT&gt;&#39;</span><span style=color:#000;font-weight:700>}));</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>webdriver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Builder</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forBrowser</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;chrome&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setChromeOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://selenium.dev&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}());</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-05-05 role=tabpanel aria-labelled-by=tabs-05-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.Proxy</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeDriver</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.chrome.ChromeOptions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>proxyTest</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>proxy</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Proxy</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000>proxy</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setHttpProxy</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&lt;HOST:PORT&gt;&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>options</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000>options</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setCapability</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;proxy&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>proxy</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>WebDriver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>options</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;https://www.google.com/&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>manage</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>window</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>maximize</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-57a6b2296172e62e94628610d9c999ef>2 - 浏览器服务</h1><p>服务类用于管理驱动程序的启动和停止.
它们不适用于远程驱动程序.</p><ul><li>驱动的位置</li><li>端口的使用</li><li>命令行参数的使用</li></ul><div class="row justify-content-center my-1"><div class="alert alert-orange -bg-selenium-cyan-20 col-10 pl-lg-5 mb-0 alert-dismissible fade show" role=alert><h2 class="alert-heading pb-3 text-center">Coding Help</h2><div class=w-100><strong>Note:</strong>
This section could use some updated code examples<br><br>Check our <a href=/zh-cn/documentation/about/contributing/>contribution guidelines</a> and <a href=/zh-cn/documentation/about/style#code-examples>code example formats</a> if you&rsquo;d like to help.</div><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-de7f2ed0cc28a9e8748f333a94a841ea>3 - 命令监听器</h1><p>允许您在每次发送特定 Selenium 命令时执行自定义操作</p><div class="row justify-content-center my-1"><div class="alert alert-orange -bg-selenium-cyan-20 col-10 pl-lg-5 mb-0 alert-dismissible fade show" role=alert><h2 class="alert-heading pb-3 text-center">Coding Help</h2><div class=w-100><strong>Note:</strong>
This section could use some updated code examples<br><br>Check our <a href=/zh-cn/documentation/about/contributing/>contribution guidelines</a> and <a href=/zh-cn/documentation/about/style#code-examples>code example formats</a> if you&rsquo;d like to help.</div><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d0a01f748f36bb31ddb20c182ec95e0e>4 - 命令执行器</h1><p>允许您为HTTP库设置各种参数.</p><div class="row justify-content-center my-1"><div class="alert alert-orange -bg-selenium-cyan-20 col-10 pl-lg-5 mb-0 alert-dismissible fade show" role=alert><h2 class="alert-heading pb-3 text-center">Coding Help</h2><div class=w-100><strong>Note:</strong>
This section could use some updated code examples<br><br>Check our <a href=/zh-cn/documentation/about/contributing/>contribution guidelines</a> and <a href=/zh-cn/documentation/about/style#code-examples>code example formats</a> if you&rsquo;d like to help.</div><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-16183125c40ffe05c8673aa3affcdcf8>5 - 远程WebDriver</h1><p>您可以如本地一样, 使用远程WebDriver.
主要区别在于需要配置远程WebDriver, 以便可以在不同的计算机上运行测试.</p><p>远程WebDriver由两部分组成：客户端和服务端. 客户端是您的WebDriver测试，而服务端仅仅是可以被托管于任何现代Java EE应用服务器的Java Servlet.</p><p>要运行远程WebDriver客户端, 我们首先需要连接到RemoteWebDriver.
为此, 我们将URL指向运行测试的服务器的地址.
为了自定义我们的配置, 我们设置了既定的功能.
下面是一个实例化样例,
其指向我们的远程Web服务器 <em><a href=https://www.example.com>www.example.com</a></em> 的远程WebDriver对象,
并在Firefox上运行测试.</p><ul class="nav nav-tabs" id=tabs-0 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-00-00-tab data-toggle=tab href=#tabs-00-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-00-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-00-01-tab data-toggle=tab href=#tabs-00-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-00-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-00-02-tab data-toggle=tab href=#tabs-00-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-00-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-00-03-tab data-toggle=tab href=#tabs-00-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-00-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-00-04-tab data-toggle=tab href=#tabs-00-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-00-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-00-05-tab data-toggle=tab href=#tabs-00-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-00-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-0-content><div class="tab-pane fade show active" id=tabs-00-00 role=tabpanel aria-labelled-by=tabs-00-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#000>FirefoxOptions</span> <span style=color:#000>firefoxOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>firefoxOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-01 role=tabpanel aria-labelled-by=tabs-00-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>firefox_options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>FirefoxOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Remote</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>command_executor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;http://www.example.com&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>firefox_options</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span> 
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-02 role=tabpanel aria-labelled-by=tabs-00-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span> <span style=color:#000>FirefoxOptions</span> <span style=color:#000>firefoxOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span> <span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Uri</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>firefoxOptions</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-03 role=tabpanel aria-labelled-by=tabs-00-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#204a87>require</span> <span style=color:#4e9a06>&#39;selenium-webdriver&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span> <span style=color:#4e9a06>:remote</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>url</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>desired_capabilities</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>:firefox</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span> <span style=color:#4e9a06>&#34;http://www.google.com&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>close</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-04 role=tabpanel aria-labelled-by=tabs-00-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>Builder</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Capabilities</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;selenium-webdriver&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>capabilities</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Capabilities</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>firefox</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>helloSelenium</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Builder</span><span style=color:#000;font-weight:700>()</span>        
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>usingServer</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://example.com&#34;</span><span style=color:#000;font-weight:700>)</span>   
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>withCapabilities</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>capabilities</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;http://www.google.com&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>})();</span>  
</span></span><span style=display:flex><span>  
</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-05 role=tabpanel aria-labelled-by=tabs-00-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#000>firefoxOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>FirefoxOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>WebDriver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>new</span> <span style=color:#000>URL</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>firefoxOptions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><p>为了进一步自定义测试配置, 我们可以添加其他既定的功能.</p><h2 id=浏览器选项>浏览器选项</h2><p>例如, 假设您想使用Chrome版本67
在Windows XP上运行Chrome:</p><ul class="nav nav-tabs" id=tabs-1 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-01-00-tab data-toggle=tab href=#tabs-01-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-01-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-01-01-tab data-toggle=tab href=#tabs-01-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-01-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-01-02-tab data-toggle=tab href=#tabs-01-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-01-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-01-03-tab data-toggle=tab href=#tabs-01-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-01-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-01-04-tab data-toggle=tab href=#tabs-01-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-01-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-01-05-tab data-toggle=tab href=#tabs-01-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-01-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-1-content><div class="tab-pane fade show active" id=tabs-01-00 role=tabpanel aria-labelled-by=tabs-01-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#000>ChromeOptions</span> <span style=color:#000>chromeOptions</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserVersion&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;67&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCapability</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;platformName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Windows XP&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>chromeOptions</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-01-01 role=tabpanel aria-labelled-by=tabs-01-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>webdriver</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>chrome_options</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>chrome_options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_capability</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserVersion&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;67&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>chrome_options</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_capability</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;platformName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Windows XP&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webdriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Remote</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>command_executor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;http://www.example.com&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>options</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>chrome_options</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>  
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-01-02 role=tabpanel aria-labelled-by=tabs-01-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BrowserVersion</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;67&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PlatformName</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Windows XP&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>IWebDriver</span> <span style=color:#000>driver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Uri</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-01-03 role=tabpanel aria-labelled-by=tabs-01-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#000>caps</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Remote</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Capabilities</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chrome</span>
</span></span><span style=display:flex><span><span style=color:#000>caps</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>platform</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Windows</span> <span style=color:#000>XP</span>
</span></span><span style=display:flex><span><span style=color:#000>caps</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>version</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>67</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>for</span> <span style=color:#4e9a06>:remote</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>:url</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>:desired_capabilities</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>caps</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-01-04 role=tabpanel aria-labelled-by=tabs-01-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>Builder</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;selenium-webdriver&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>chrome</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;selenium-webdriver/chrome&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>chrome</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Options</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setAcceptInsecureCerts</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setBrowserVersion</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;67&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setPlatform</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Windows XP&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>async</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>helloSelenium</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Builder</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>usingServer</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://example.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>forBrowser</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;chrome&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>setChromeOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>opts</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;http://www.google.com&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>finally</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>})();</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-01-05 role=tabpanel aria-labelled-by=tabs-01-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>chromeOptions</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>ChromeOptions</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setCapability</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserVersion&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;67&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setCapability</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;platformName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Windows XP&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>WebDriver</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>new</span> <span style=color:#000>URL</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>chromeOptions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>quit</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><h2 id=本地文件检测器>本地文件检测器</h2><p>本地文件检测器允许将文件从客户端计算机传输到远程服务器.
例如, 如果测试需要将文件上传到Web应用程序,
则远程WebDriver可以在运行时
将文件从本地计算机自动传输到远程Web服务器.
这允许从运行测试的远程计算机上载文件.
默认情况下未启用它, 可以通过以下方式启用:</p><ul class="nav nav-tabs" id=tabs-2 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-02-00-tab data-toggle=tab href=#tabs-02-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-02-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-02-01-tab data-toggle=tab href=#tabs-02-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-02-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-02-02-tab data-toggle=tab href=#tabs-02-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-02-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-02-03-tab data-toggle=tab href=#tabs-02-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-02-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-02-04-tab data-toggle=tab href=#tabs-02-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-02-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-02-05-tab data-toggle=tab href=#tabs-02-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-02-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-2-content><div class="tab-pane fade show active" id=tabs-02-00 role=tabpanel aria-labelled-by=tabs-02-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setFileDetector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>LocalFileDetector</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-01 role=tabpanel aria-labelled-by=tabs-02-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium.webdriver.remote.file_detector</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LocalFileDetector</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>file_detector</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LocalFileDetector</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-02 role=tabpanel aria-labelled-by=tabs-02-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>allowsDetection</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>driver</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>IAllowsFileDetection</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>allowsDetection</span> <span style=color:#000;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#000>allowsDetection</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FileDetector</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>LocalFileDetector</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-03 role=tabpanel aria-labelled-by=tabs-02-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#000>@driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>file_detector</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>lambda</span> <span style=color:#204a87;font-weight:700>do</span> <span style=color:#ce5c00;font-weight:700>|</span><span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>|</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic># args =&gt; [&#34;/path/to/file&#34;]</span>
</span></span><span style=display:flex><span>  <span style=color:#000>str</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>first</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>to_s</span>
</span></span><span style=display:flex><span>  <span style=color:#000>str</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>File</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>exist?</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>str</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-04 role=tabpanel aria-labelled-by=tabs-02-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>remote</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>require</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;selenium-webdriver/remote&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setFileDetector</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>remote</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FileDetector</span><span style=color:#000;font-weight:700>);</span>   
</span></span><span style=display:flex><span>  
</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-02-05 role=tabpanel aria-labelled-by=tabs-02-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fileDetector</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>LocalFileDetector</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><p>定义上述代码后,
您可以通过以下方式在测试中上传文件:</p><ul class="nav nav-tabs" id=tabs-3 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-03-00-tab data-toggle=tab href=#tabs-03-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-03-00 aria-selected=false>Java</a></li><li class=nav-item><a class="nav-link persistLang-Python" id=tabs-03-01-tab data-toggle=tab href=#tabs-03-01 role=tab onclick='persistLang("Python")' aria-controls=tabs-03-01 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link persistLang-CSharp" id=tabs-03-02-tab data-toggle=tab href=#tabs-03-02 role=tab onclick='persistLang("CSharp")' aria-controls=tabs-03-02 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link persistLang-Ruby" id=tabs-03-03-tab data-toggle=tab href=#tabs-03-03 role=tab onclick='persistLang("Ruby")' aria-controls=tabs-03-03 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link persistLang-JavaScript" id=tabs-03-04-tab data-toggle=tab href=#tabs-03-04 role=tab onclick='persistLang("JavaScript")' aria-controls=tabs-03-04 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link persistLang-Kotlin" id=tabs-03-05-tab data-toggle=tab href=#tabs-03-05 role=tab onclick='persistLang("Kotlin")' aria-controls=tabs-03-05 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-3-content><div class="tab-pane fade show active" id=tabs-03-00 role=tabpanel aria-labelled-by=tabs-03-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>WebElement</span> <span style=color:#000>upload</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;myfile&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>upload</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/Users/sso/the/local/path/to/darkbulb.jpg&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-01 role=tabpanel aria-labelled-by=tabs-03-01-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find_element</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ID</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;myfile&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>send_keys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/Users/sso/the/local/path/to/darkbulb.jpg&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-02 role=tabpanel aria-labelled-by=tabs-03-02-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Navigate</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>GoToUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>IWebElement</span> <span style=color:#000>upload</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FindElement</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Id</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;myfile&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>upload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SendKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>@&#34;/Users/sso/the/local/path/to/darkbulb.jpg&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-03 role=tabpanel aria-labelled-by=tabs-03-03-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=display:flex><span><span style=color:#000>@driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>navigate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>to</span> <span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000>element</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>@driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find_element</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>:id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;myfile&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>send_keys</span> <span style=color:#4e9a06>&#34;/Users/sso/SauceLabs/sauce/hostess/maitred/maitred/public/images/darkbulb.jpg&#34;</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-04 role=tabpanel aria-labelled-by=tabs-03-04-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>upload</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findElement</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;myfile&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>upload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>sendKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/Users/sso/the/local/path/to/darkbulb.jpg&#34;</span><span style=color:#000;font-weight:700>);</span>  
</span></span><span style=display:flex><span>  
</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-03-05 role=tabpanel aria-labelled-by=tabs-03-05-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://sso.dev.saucelabs.com/test/guinea-file-upload&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>upload</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>WebElement</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findElement</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;myfile&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>upload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>sendKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/Users/sso/the/local/path/to/darkbulb.jpg&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><h2 id=追踪客户端请求>追踪客户端请求</h2><p>此功能仅适用于Java客户端绑定 (Beta版以后).
远程WebDriver客户端向Selenium网格服务器发送请求,
后者将请求传递给WebDriver.
应该在服务器端和客户端启用跟踪,
以便端到端地追踪HTTP请求.
两端都应该有一个指向可视化框架的追踪导出器设置.
默认情况下,
对客户端和服务器都启用追踪.
若设置可视化框架Jaeger UI及Selenium Grid 4,
请参阅所需版本的<a href=https://github.com/SeleniumHQ/selenium/blob/selenium-4.0.0-beta-1/java/server/src/org/openqa/selenium/grid/commands/tracing.txt>追踪设置</a> .</p><p>对于客户端设置, 请执行以下步骤.</p><h4 id=添加所需依赖>添加所需依赖</h4><p>可以使用Maven安装追踪导出器的外部库.
在项目pom.xml中添加 <em>opentelemetry-exporter-jaeger</em>
和 <em>grpc-netty</em> 的依赖项：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>io.opentelemetry<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>opentelemetry-exporter-jaeger<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0.0<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>io.grpc<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>grpc-netty<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.35.0<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h4 id=在运行客户端时添加传递所需的系统属性>在运行客户端时添加/传递所需的系统属性</h4><ul class="nav nav-tabs" id=tabs-4 role=tablist><li class=nav-item><a class="nav-link active persistLang-Java" id=tabs-04-00-tab data-toggle=tab href=#tabs-04-00 role=tab onclick='persistLang("Java")' aria-controls=tabs-04-00 aria-selected=false>Java</a></li></ul><div class=tab-content id=tabs-4-content><div class="tab-pane fade show active" id=tabs-04-00 role=tabpanel aria-labelled-by=tabs-04-00-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setProperty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;otel.traces.exporter&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;jaeger&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setProperty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;otel.exporter.jaeger.endpoint&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://localhost:14250&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setProperty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;otel.resource.attributes&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;service.name=selenium-java-client&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>ImmutableCapabilities</span> <span style=color:#000>capabilities</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ImmutableCapabilities</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;chrome&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>RemoteWebDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>URL</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.example.com&#34;</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>capabilities</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>quit</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><p>有关所需Selenium版本
及其外部依赖关系版本等更多信息,
请参阅<a href=https://github.com/SeleniumHQ/selenium/blob/selenium-4.0.0-beta-1/java/server/src/org/openqa/selenium/grid/commands/tracing.txt>追踪设置</a> .</p><p>更多信息请访问:</p><ul><li>OpenTelemetry: <a href=https://opentelemetry.io>https://opentelemetry.io</a></li><li>配置OpenTelemetry:
<a href=https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure>https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure</a></li><li>Jaeger: <a href=https://www.jaegertracing.io>https://www.jaegertracing.io</a></li><li><a href=/zh-cn/documentation/grid/advanced_features/observability/>Selenium Grid 可观测性</a></li></ul><h2 id=browser-specific-functionalities>Browser specific functionalities</h2><p>Some <a href=/zh-cn/documentation/webdriver/browsers/>browser specific functionalities</a> require workarounds as mentioned in <a href=https://github.com/SeleniumHQ/selenium/issues/11483>this issue</a>.</p></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/experitest.png alt=Experitest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.lambdatest.com/selenium-automation class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.subject-7.com/unified-testing/?utm_source=selenium&utm_medium=unifiedtesting&utm_campaign=product" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/subject7_logo.png alt=Subject7></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.avoautomation.ai/why-avo//?utm_source=SeleniumHQ&utm_medium=listing&utm_campaign=SeleniumHQ" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/Avo_logo.png alt="Avo Automation"></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text>Want to support the Selenium project? Learn more or view the full list of sponsors.</p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase font-weight-bold">Learn more
<i class="pl-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/seleniumhq/shared_invite/zt-vv33sc0w-VKKQop3WDV_lfrLXGGHvDw aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://kiwiirc.com/nextclient/irc.libera.chat/#selenium aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 Software Freedom Conservancy 保留所有权利</small><p class=mt-2><a href=/zh-cn/documentation/about/>关于这个文档</a></p></div></div></div></footer></div><script src=/js/main.min.be25a680a0d95dc8b5d6664622e2134aa894220e2f224ef609e00f633a3a1b32.js integrity="sha256-viWmgKDZXci11mZGIuITSqiUIg4vIk72CeAPYzo6GzI=" crossorigin=anonymous></script>
<script src=/js/prism.js></script>
<script src=/js/tabpane-persist.js></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>docsearch({container:"#docsearch",appId:"6IOXA5JK7Z",indexName:"selenium",apiKey:"2b44a1d3530f9951dd6502059058984a",debug:!1})</script></body></html>