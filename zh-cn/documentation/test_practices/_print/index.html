<!doctype html><html lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=/zh-cn/documentation/test_practices/><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>鼓励的行为 | Selenium</title><meta name=description content="Selenium项目的一些测试指南和建议.
"><meta property="og:title" content="鼓励的行为"><meta property="og:description" content="Selenium项目的一些测试指南和建议.
"><meta property="og:type" content="website"><meta property="og:url" content="/zh-cn/documentation/test_practices/"><meta property="og:image" content="/images/selenium_4_logo.png"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="鼓励的行为"><meta itemprop=description content="Selenium项目的一些测试指南和建议.
"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/selenium_4_logo.png"><meta name=twitter:title content="鼓励的行为"><meta name=twitter:description content="Selenium项目的一些测试指南和建议.
"><link rel=preload href=/scss/main.min.2245259ef935939166c6294eb2c0cc4c8ae1a97d47671610eaf55635ffe33ce7.css as=style><link href=/scss/main.min.2245259ef935939166c6294eb2c0cc4c8ae1a97d47671610eaf55635ffe33ce7.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><script defer data-domain=selenium.dev src=https://plausible.io/js/plausible.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark navbar-color td-navbar"><a class=navbar-brand href=/zh-cn/><span class=navbar-logo><svg id="selenium_logo" data-name="Selenium Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-selenium_logo{fill:#fff}</style></defs><title>Selenium</title><path class="cls-selenium_logo" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-selenium_logo" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-selenium_logo" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-selenium_logo" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-selenium_logo" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-selenium_logo" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-selenium_logo" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-selenium_logo" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-selenium_logo" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-selenium_logo" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-cn/about>About Selenium</a>
<a class=dropdown-item href=/zh-cn/project>Structure and Governance</a>
<a class=dropdown-item href=/zh-cn/events>Events</a>
<a class=dropdown-item href=/zh-cn/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/zh-cn/history>History</a>
<a class=dropdown-item href=/zh-cn/getinvolved>Get Involved</a>
<a class=dropdown-item href=/zh-cn/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文简体</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/test_practices/>English</a>
<a class=dropdown-item href=/pt-br/documentation/test_practices/>Português (Brasileiro)</a>
<a class=dropdown-item href=/ja/documentation/test_practices/>日本語</a></div></li></ul><div class=navbar-nav><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/documentation/test_practices/>返回本页常规视图</a>.</p></div><h1 class=title>鼓励的行为</h1><div class=lead>Selenium项目的一些测试指南和建议.</div><ul><li>1: <a href=#pg-95463f9f08ab9b45822eb4db4e4f8319>测试自动化概述</a></li><li>2: <a href=#pg-6ac5cebe2b8df6bdf4a32c2ff87c8102>设计模式和开发策略</a></li><li>3: <a href=#pg-dd0cceff6f2eda0a41e7565c12418f2e>测试类型</a></li><li>4: <a href=#pg-3adeefbf55b891277e0d61644d37e819>指南和建议</a></li><ul><li>4.1: <a href=#pg-a07d818fdd319e2c92a8acc85ef8a3e8>PO设计模式</a></li><li>4.2: <a href=#pg-eff46b072335747496ab495afaa216a4>领域特定语言</a></li><li>4.3: <a href=#pg-7c284c8ef2a809f491abaacf4bc8174e>生成应用程序状态</a></li><li>4.4: <a href=#pg-17499bca0a70e7307770deb1aeed0396>模拟外部服务</a></li><li>4.5: <a href=#pg-7ac05e3d898ebefa61aea590b371bb90>改善报告</a></li><li>4.6: <a href=#pg-fa48c36df684f7be6ce81e5e93388b9e>使用定位器的提示</a></li><li>4.7: <a href=#pg-771c393afbab1342a428f0976ae22ab2>避免共享状态</a></li><li>4.8: <a href=#pg-dfe07108b6d0f913b964fe6e4338d5ba>测试的独立性</a></li><li>4.9: <a href=#pg-40d1fd2b426846ea61f9362119eb7b4b>考虑使用Fluent API</a></li><li>4.10: <a href=#pg-3ce2b89debe65906eae5f1da85962607>每次测试都刷新浏览器</a></li></ul><li>5: <a href=#pg-b71f51b4e474502507b0841f5d152d1a>不鼓励的行为</a></li><ul><li>5.1: <a href=#pg-12a8f4e30343b86339acb24c22b1d4ae>验证码</a></li><li>5.2: <a href=#pg-1223ebcabcfa4c9b6ea24c5aaffbc509>文件下载</a></li><li>5.3: <a href=#pg-5f748c8597e92ebc444be6a9c4e7cdd3>HTTP响应码</a></li><li>5.4: <a href=#pg-9bdc1ce1d6b5b575d611d3c7acfc776b>Gmail, email 和 Facebook 登录</a></li><li>5.5: <a href=#pg-e1315c8ae4a385f5b3b8b028ce8d9ebb>测试依赖</a></li><li>5.6: <a href=#pg-819c58e35cb5b37daaf82700a073a9a0>性能测试</a></li><li>5.7: <a href=#pg-38d1959cdf1a7c403cb4f29ca535baa9>爬取链接</a></li><li>5.8: <a href=#pg-a18a4de15d62b2cf10d163ace06e1017>双因素认证</a></li></ul></ul><div class=content><p>关于"最佳实践"的注解：我们有意在本文档中避免使用"最佳实践"的说辞.
没有一种方法可以适用于所有情况.
我们更喜欢"指南和建议"的想法.
我们鼓励您通读这些内容, 并仔细地确定哪种方法适用于您的特定环境.</p><p>由于许多原因, 功能测试很难正确完成. 即便应用程序的状态, 复杂性, 依赖还不够让测试变得
足够复杂, 操作浏览器（特别是跨浏览器的兼容性测试）就已经使得写一个好的测试变成一种挑战.</p><p>Selenium提供了一些工具使得功能测试用户更简单的操作浏览器, 但是这些工具并不能帮助你来写一个好的
架构的测试套件. 这章我们会针对怎么来做web页面的功能测试的自动化给出一些忠告, 指南和建议.</p><p>这章记录了很多历年来成功的使用Selenium的用户的常用的软件设计模式.</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-95463f9f08ab9b45822eb4db4e4f8319>1 - 测试自动化概述</h1><p>首先，问问自己是否真的需要使用浏览器。
在某些情况下，如果您正在开发一个复杂的 web 应用程序，
您需要打开一个浏览器并进行实际测试，这种可能性是很大的。</p><p>然而，诸如 Selenium 之类的功能性最终用户测试运行起来很昂贵。
此外，它们通常需要大量的基础设施才能有效运行。
经常问问自己，您想要测试的东西是否可以使用更轻量级的测试方法（如单元测试）完成，
还是使用较低级的方法完成，这是一个很好的规则。</p><p>一旦确定您正在进行Web浏览器测试业务，
并且您的 Selenium 环境已经准备好开始编写测试，
您通常会执行以下三个步骤的组合：</p><ul><li>设置数据</li><li>执行一组离散的操作</li><li>评估结果</li></ul><p>您需要尽可能缩短这些步骤;
一到两个操作在大多数时间内应该足够了。
浏览器自动化具有“脆弱”的美誉，
但实际上那是因为用户经常对它要求过高。
在后面的章节中，我们将回到您可以使用的技术，
为了缓解测试中明显的间歇性问题，
特别是如何克服 浏览器 和 WebDriver 之间的<a href=/zh-cn/documentation/webdriver/waits/>竞争条件</a>。</p><p>通过保持测试简短并仅在您完全没有替代方案时使用Web浏览器，您可以用最小的代码片段来完成很多测试。</p><p>Selenium测试的一个显著优势是，它能够从用户的角度测试应用程序的所有组件（从后端到前端）。
因此，换句话说，虽然功能测试运行起来可能很昂贵，但它们同时也包含了大量关键业务部分。</p><h3 id=测试要求>测试要求</h3><p>如前所述，Selenium 测试运行起来可能很昂贵。
在多大程度上取决于您正在运行测试的浏览器，
但历史上浏览器的行为变化太大，以至于通常是针对多个浏览器进行交叉测试的既定目标。</p><p>Selenium 允许您在多个操作系统上的多个浏览器上运行相同的指令，
但是对所有可能的浏览器、它们的不同版本以及它们所运行的许多操作系统的枚举将很快成为一项繁重的工作。</p><h3 id=让我们从一个例子开始>让我们从一个例子开始</h3><p>Larry 写了一个网站，允许用户订购他们自己定制的独角兽。</p><p>一般的工作流程(我们称之为“幸福之路”)是这样的:</p><ul><li>创建一个账户</li><li>配置他们的独角兽</li><li>添加到购物车</li><li>检验并付款</li><li>给出关于他们独角兽的反馈</li></ul><p>编写一个宏大的 Selenium 脚本来执行所有这些操作是很诱人的 — 很多人都会尝试这样做。
<strong>抵制诱惑！</strong>
这样做会导致测试:
a) 需要很长时间;
b) 会受到一些与页面呈现时间问题有关的常见问题的影响;
c) 如果失败，它不会给出一个简洁的、“可检查”的方法来诊断出了什么问题。</p><p>测试此场景的首选策略是将其分解为一系列独立的、快速的测试，每个测试都有一个存在的“理由”。</p><p>假设您想测试第二步：
配置您的独角兽。
它将执行以下操作:</p><ul><li>创建一个帐户</li><li>配置一个独角兽</li></ul><p>请注意，我们跳过了这些步骤的其余部分，
在完成这一步之后，我们将在其他小的、离散的测试用例中测试工作流的其余部分。</p><p>首先，您需要创建一个帐户。在这里您可以做出一些选择：</p><ul><li>您想使用现有帐户吗?</li><li>您想创建一个新帐户吗?</li><li>在配置开始之前，是否需要考虑有任何特殊属性的用户需要吗?</li></ul><p>不管您如何回答这个问题，
解决方案是让它成为测试中“设置数据”部分的一部分 - 如果 Larry 公开了一个 API，
使您(或任何人)能够创建和更新用户帐户，
一定要用它来回答这个问题
请确保使用这个 API 来回答这个问题 — 如果可能的话，
您希望只有在您拥有一个用户之后才启动浏览器，您可以使用该用户的凭证进行登录。</p><p>如果每个工作流的每个测试都是从创建用户帐户开始的，那么每个测试的执行都会增加许多秒。
调用 API 并与数据库进行通信是快速、“无头”的操作，
不需要打开浏览器、导航到正确页面、点击并等待表单提交等昂贵的过程。</p><p>理想情况下，您可以在一行代码中处理这个设置阶段，这些代码将在任何浏览器启动之前执行:</p><ul class="nav nav-tabs" id=tabs-1 role=tablist><li class=nav-item><a class="nav-link active tab-java" id=tabs-1-0-tab data-toggle=tab href=#tabs-1-0 role=tab onclick='handleClick("java")' aria-controls=tabs-1-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-python" id=tabs-1-1-tab data-toggle=tab href=#tabs-1-1 role=tab onclick='handleClick("python")' aria-controls=tabs-1-1 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link tab-csharp" id=tabs-1-2-tab data-toggle=tab href=#tabs-1-2 role=tab onclick='handleClick("csharp")' aria-controls=tabs-1-2 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link tab-ruby" id=tabs-1-3-tab data-toggle=tab href=#tabs-1-3 role=tab onclick='handleClick("ruby")' aria-controls=tabs-1-3 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link tab-javascript" id=tabs-1-4-tab data-toggle=tab href=#tabs-1-4 role=tab onclick='handleClick("javascript")' aria-controls=tabs-1-4 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link tab-kotlin" id=tabs-1-5-tab data-toggle=tab href=#tabs-1-5 role=tab onclick='handleClick("kotlin")' aria-controls=tabs-1-5 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-1-content><div class="tab-pane fade show active" id=tabs-1-0 role=tabpanel aria-labelled-by=tabs-1-0-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=color:#8f5902;font-style:italic>// Create a user who has read-only permissions--they can configure a unicorn,
</span><span style=color:#8f5902;font-style:italic>// but they do not have payment information set up, nor do they have
</span><span style=color:#8f5902;font-style:italic>// administrative privileges. At the time the user is created, its email
</span><span style=color:#8f5902;font-style:italic>// address and password are randomly generated--you don&#39;t even need to
</span><span style=color:#8f5902;font-style:italic>// know them.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>User</span> <span style=color:#000>user</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>UserFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>createCommonUser</span><span style=color:#ce5c00;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>//This method is defined elsewhere.
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#8f5902;font-style:italic>// Log in as this user.
</span><span style=color:#8f5902;font-style:italic>// Logging in on this site takes you to your personal &#34;My Account&#34; page, so the
</span><span style=color:#8f5902;font-style:italic>// AccountPage object is returned by the loginAs method, allowing you to then
</span><span style=color:#8f5902;font-style:italic>// perform actions from the AccountPage.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AccountPage</span> <span style=color:#000>accountPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>loginAs</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEmail</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getPassword</span><span style=color:#ce5c00;font-weight:700>());</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-1-1 role=tabpanel aria-labelled-by=tabs-1-1-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#8f5902;font-style:italic># Create a user who has read-only permissions--they can configure a unicorn,</span>
<span style=color:#8f5902;font-style:italic># but they do not have payment information set up, nor do they have</span>
<span style=color:#8f5902;font-style:italic># administrative privileges. At the time the user is created, its email</span>
<span style=color:#8f5902;font-style:italic># address and password are randomly generated--you don&#39;t even need to</span>
<span style=color:#8f5902;font-style:italic># know them.</span>
<span style=color:#000>user</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>user_factory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create_common_user</span><span style=color:#000;font-weight:700>()</span> <span style=color:#8f5902;font-style:italic>#This method is defined elsewhere.</span>

<span style=color:#8f5902;font-style:italic># Log in as this user.</span>
<span style=color:#8f5902;font-style:italic># Logging in on this site takes you to your personal &#34;My Account&#34; page, so the</span>
<span style=color:#8f5902;font-style:italic># AccountPage object is returned by the loginAs method, allowing you to then</span>
<span style=color:#8f5902;font-style:italic># perform actions from the AccountPage.</span>
<span style=color:#000>account_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>login_as</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_email</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_password</span><span style=color:#000;font-weight:700>())</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-1-2 role=tabpanel aria-labelled-by=tabs-1-2-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=color:#8f5902;font-style:italic>// Create a user who has read-only permissions--they can configure a unicorn,
</span><span style=color:#8f5902;font-style:italic>// but they do not have payment information set up, nor do they have
</span><span style=color:#8f5902;font-style:italic>// administrative privileges. At the time the user is created, its email
</span><span style=color:#8f5902;font-style:italic>// address and password are randomly generated--you don&#39;t even need to
</span><span style=color:#8f5902;font-style:italic>// know them.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>User</span> <span style=color:#000>user</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>UserFactory</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateCommonUser</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>//This method is defined elsewhere.
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#8f5902;font-style:italic>// Log in as this user.
</span><span style=color:#8f5902;font-style:italic>// Logging in on this site takes you to your personal &#34;My Account&#34; page, so the
</span><span style=color:#8f5902;font-style:italic>// AccountPage object is returned by the loginAs method, allowing you to then
</span><span style=color:#8f5902;font-style:italic>// perform actions from the AccountPage.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AccountPage</span> <span style=color:#000>accountPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>LoginAs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Email</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Password</span><span style=color:#000;font-weight:700>);</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-1-3 role=tabpanel aria-labelled-by=tabs-1-3-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=color:#8f5902;font-style:italic># Create a user who has read-only permissions--they can configure a unicorn,</span>
<span style=color:#8f5902;font-style:italic># but they do not have payment information set up, nor do they have</span>
<span style=color:#8f5902;font-style:italic># administrative privileges. At the time the user is created, its email</span>
<span style=color:#8f5902;font-style:italic># address and password are randomly generated--you don&#39;t even need to</span>
<span style=color:#8f5902;font-style:italic># know them.</span>
<span style=color:#000>user</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>UserFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create_common_user</span> <span style=color:#8f5902;font-style:italic>#This method is defined elsewhere.</span>

<span style=color:#8f5902;font-style:italic># Log in as this user.</span>
<span style=color:#8f5902;font-style:italic># Logging in on this site takes you to your personal &#34;My Account&#34; page, so the</span>
<span style=color:#8f5902;font-style:italic># AccountPage object is returned by the loginAs method, allowing you to then</span>
<span style=color:#8f5902;font-style:italic># perform actions from the AccountPage.</span>
<span style=color:#000>account_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>login_as</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>email</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>password</span><span style=color:#000;font-weight:700>)</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-1-4 role=tabpanel aria-labelled-by=tabs-1-4-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=color:#8f5902;font-style:italic>// Create a user who has read-only permissions--they can configure a unicorn,
</span><span style=color:#8f5902;font-style:italic>// but they do not have payment information set up, nor do they have
</span><span style=color:#8f5902;font-style:italic>// administrative privileges. At the time the user is created, its email
</span><span style=color:#8f5902;font-style:italic>// address and password are randomly generated--you don&#39;t even need to
</span><span style=color:#8f5902;font-style:italic>// know them.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>user</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>userFactory</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createCommonUser</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>//This method is defined elsewhere.
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#8f5902;font-style:italic>// Log in as this user.
</span><span style=color:#8f5902;font-style:italic>// Logging in on this site takes you to your personal &#34;My Account&#34; page, so the
</span><span style=color:#8f5902;font-style:italic>// AccountPage object is returned by the loginAs method, allowing you to then
</span><span style=color:#8f5902;font-style:italic>// perform actions from the AccountPage.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>accountPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>loginAs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>email</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>password</span><span style=color:#000;font-weight:700>);</span>
  
</code></pre></div></div><div class="tab-pane fade" id=tabs-1-5 role=tabpanel aria-labelled-by=tabs-1-5-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=color:#8f5902;font-style:italic>// Create a user who has read-only permissions--they can configure a unicorn,
</span><span style=color:#8f5902;font-style:italic>// but they do not have payment information set up, nor do they have
</span><span style=color:#8f5902;font-style:italic>// administrative privileges. At the time the user is created, its email
</span><span style=color:#8f5902;font-style:italic>// address and password are randomly generated--you don&#39;t even need to
</span><span style=color:#8f5902;font-style:italic>// know them.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>user</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>UserFactory</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createCommonUser</span><span style=color:#000;font-weight:700>()</span> <span style=color:#8f5902;font-style:italic>//This method is defined elsewhere.
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#8f5902;font-style:italic>// Log in as this user.
</span><span style=color:#8f5902;font-style:italic>// Logging in on this site takes you to your personal &#34;My Account&#34; page, so the
</span><span style=color:#8f5902;font-style:italic>// AccountPage object is returned by the loginAs method, allowing you to then
</span><span style=color:#8f5902;font-style:italic>// perform actions from the AccountPage.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>accountPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>loginAs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getEmail</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#000>user</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getPassword</span><span style=color:#000;font-weight:700>())</span>
  </code></pre></div></div></div><p>您可以想象，<code>UserFactory</code>可以扩展为提供诸如<code>createAdminUser()</code>、<code>createUserWithPayment()</code>的方法。
关键是，这两行代码不会分散您对此测试的最终目的的注意力：
配置独角兽。</p><p><a href=/zh-cn/documentation/test_practices/encouraged/page_object_models/>页面对象模型</a>
的复杂性将在后面的章节中讨论，但我们将在这里介绍这个概念：</p><p>您的测试应该由操作组成，从用户的角度出发，在站点的页面上下文中执行。
这些页面被存储为对象，
其中包含关于 web 页面如何组成以及如何执行操作的特定信息 — 作为测试人员，您应该很少关注这些信息。</p><p>您想要什么样的独角兽?
您可能想要粉红色，但不一定。
紫色最近很流行。
她需要太阳镜吗?
明星纹身?
这些选择虽然困难，但是作为测试人员，
您的主要关注点是 — 您需要确保您的订单履行中心将正确的独角兽发送给正确的人，而这就要从这些选择开始。</p><p>请注意，我们在该段落中没有讨论按钮，字段，下拉菜单，单选按钮或 Web 表单。
<strong>您的测试也不应该！</strong>
您希望像尝试解决问题的用户一样编写代码。
这是一种方法（从前面的例子继续）：</p><ul class="nav nav-tabs" id=tabs-3 role=tablist><li class=nav-item><a class="nav-link active tab-java" id=tabs-3-0-tab data-toggle=tab href=#tabs-3-0 role=tab onclick='handleClick("java")' aria-controls=tabs-3-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-python" id=tabs-3-1-tab data-toggle=tab href=#tabs-3-1 role=tab onclick='handleClick("python")' aria-controls=tabs-3-1 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link tab-csharp" id=tabs-3-2-tab data-toggle=tab href=#tabs-3-2 role=tab onclick='handleClick("csharp")' aria-controls=tabs-3-2 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link tab-ruby" id=tabs-3-3-tab data-toggle=tab href=#tabs-3-3 role=tab onclick='handleClick("ruby")' aria-controls=tabs-3-3 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link tab-javascript" id=tabs-3-4-tab data-toggle=tab href=#tabs-3-4 role=tab onclick='handleClick("javascript")' aria-controls=tabs-3-4 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link tab-kotlin" id=tabs-3-5-tab data-toggle=tab href=#tabs-3-5 role=tab onclick='handleClick("kotlin")' aria-controls=tabs-3-5 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-3-content><div class="tab-pane fade show active" id=tabs-3-0 role=tabpanel aria-labelled-by=tabs-3-0-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=color:#8f5902;font-style:italic>// The Unicorn is a top-level Object--it has attributes, which are set here.
</span><span style=color:#8f5902;font-style:italic>// This only stores the values; it does not fill out any web forms or interact
</span><span style=color:#8f5902;font-style:italic>// with the browser in any way.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Unicorn</span> <span style=color:#000>sparkles</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Unicorn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>PURPLE</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SUNGLASSES</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>STAR_TATTOOS</span><span style=color:#ce5c00;font-weight:700>);</span>

<span style=color:#8f5902;font-style:italic>// Since we&#39;re already &#34;on&#34; the account page, we have to use it to get to the
</span><span style=color:#8f5902;font-style:italic>// actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method
</span><span style=color:#8f5902;font-style:italic>// takes us there.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AddUnicornPage</span> <span style=color:#000>addUnicornPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>accountPage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addUnicorn</span><span style=color:#ce5c00;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>// Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to
</span><span style=color:#8f5902;font-style:italic>// its createUnicorn() method. This method will take Sparkles&#39; attributes,
</span><span style=color:#8f5902;font-style:italic>// fill out the form, and click submit.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>UnicornConfirmationPage</span> <span style=color:#000>unicornConfirmationPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>addUnicornPage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>createUnicorn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#ce5c00;font-weight:700>);</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-3-1 role=tabpanel aria-labelled-by=tabs-3-1-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#8f5902;font-style:italic># The Unicorn is a top-level Object--it has attributes, which are set here.</span>
<span style=color:#8f5902;font-style:italic># This only stores the values; it does not fill out any web forms or interact</span>
<span style=color:#8f5902;font-style:italic># with the browser in any way.</span>
<span style=color:#000>sparkles</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>PURPLE</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>SUNGLASSES</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>STAR_TATTOOS</span><span style=color:#000;font-weight:700>)</span>

<span style=color:#8f5902;font-style:italic># Since we&#39;re already &#34;on&#34; the account page, we have to use it to get to the</span>
<span style=color:#8f5902;font-style:italic># actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method</span>
<span style=color:#8f5902;font-style:italic># takes us there.</span>
<span style=color:#000>add_unicorn_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>account_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add_unicorn</span><span style=color:#000;font-weight:700>()</span>

<span style=color:#8f5902;font-style:italic># Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to</span>
<span style=color:#8f5902;font-style:italic># its createUnicorn() method. This method will take Sparkles&#39; attributes,</span>
<span style=color:#8f5902;font-style:italic># fill out the form, and click submit.</span>
<span style=color:#000>unicorn_confirmation_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>add_unicorn_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create_unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>)</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-3-2 role=tabpanel aria-labelled-by=tabs-3-2-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=color:#8f5902;font-style:italic>// The Unicorn is a top-level Object--it has attributes, which are set here. 
</span><span style=color:#8f5902;font-style:italic>// This only stores the values; it does not fill out any web forms or interact
</span><span style=color:#8f5902;font-style:italic>// with the browser in any way.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Unicorn</span> <span style=color:#000>sparkles</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Purple</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Sunglasses</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StarTattoos</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#8f5902;font-style:italic>// Since we are already &#34;on&#34; the account page, we have to use it to get to the
</span><span style=color:#8f5902;font-style:italic>// actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method
</span><span style=color:#8f5902;font-style:italic>// takes us there.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AddUnicornPage</span> <span style=color:#000>addUnicornPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>accountPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddUnicorn</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>// Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to
</span><span style=color:#8f5902;font-style:italic>// its createUnicorn() method. This method will take Sparkles&#39; attributes,
</span><span style=color:#8f5902;font-style:italic>// fill out the form, and click submit.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>UnicornConfirmationPage</span> <span style=color:#000>unicornConfirmationPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>addUnicornPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateUnicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>);</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-3-3 role=tabpanel aria-labelled-by=tabs-3-3-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=color:#8f5902;font-style:italic># The Unicorn is a top-level Object--it has attributes, which are set here.</span>
<span style=color:#8f5902;font-style:italic># This only stores the values; it does not fill out any web forms or interact</span>
<span style=color:#8f5902;font-style:italic># with the browser in any way.</span>
<span style=color:#000>sparkles</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Unicorn</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>new</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Sparkles&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>PURPLE</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>SUNGLASSES</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>STAR_TATTOOS</span><span style=color:#000;font-weight:700>)</span>

<span style=color:#8f5902;font-style:italic># Since we&#39;re already &#34;on&#34; the account page, we have to use it to get to the</span>
<span style=color:#8f5902;font-style:italic># actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method</span>
<span style=color:#8f5902;font-style:italic># takes us there.</span>
<span style=color:#000>add_unicorn_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>account_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add_unicorn</span>

<span style=color:#8f5902;font-style:italic># Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to</span>
<span style=color:#8f5902;font-style:italic># its createUnicorn() method. This method will take Sparkles&#39; attributes,</span>
<span style=color:#8f5902;font-style:italic># fill out the form, and click submit.</span>
<span style=color:#000>unicorn_confirmation_page</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>add_unicorn_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create_unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>)</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-3-4 role=tabpanel aria-labelled-by=tabs-3-4-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=color:#8f5902;font-style:italic>// The Unicorn is a top-level Object--it has attributes, which are set here.
</span><span style=color:#8f5902;font-style:italic>// This only stores the values; it does not fill out any web forms or interact
</span><span style=color:#8f5902;font-style:italic>// with the browser in any way.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>sparkles</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PURPLE</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SUNGLASSES</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>STAR_TATTOOS</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#8f5902;font-style:italic>// Since we are already &#34;on&#34; the account page, we have to use it to get to the
</span><span style=color:#8f5902;font-style:italic>// actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method
</span><span style=color:#8f5902;font-style:italic>// takes us there.
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>addUnicornPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>accountPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addUnicorn</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>// Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to
</span><span style=color:#8f5902;font-style:italic>// its createUnicorn() method. This method will take Sparkles&#39; attributes,
</span><span style=color:#8f5902;font-style:italic>// fill out the form, and click submit.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>unicornConfirmationPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>addUnicornPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createUnicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>);</span>

  
</code></pre></div></div><div class="tab-pane fade" id=tabs-3-5 role=tabpanel aria-labelled-by=tabs-3-5-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=color:#8f5902;font-style:italic>// The Unicorn is a top-level Object--it has attributes, which are set here. 
</span><span style=color:#8f5902;font-style:italic>// This only stores the values; it does not fill out any web forms or interact
</span><span style=color:#8f5902;font-style:italic>// with the browser in any way.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>sparkles</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Unicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornColors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PURPLE</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAccessories</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SUNGLASSES</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>UnicornAdornments</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>STAR_TATTOOS</span><span style=color:#000;font-weight:700>)</span>

<span style=color:#8f5902;font-style:italic>// Since we are already &#34;on&#34; the account page, we have to use it to get to the
</span><span style=color:#8f5902;font-style:italic>// actual place where you configure unicorns. Calling the &#34;Add Unicorn&#34; method
</span><span style=color:#8f5902;font-style:italic>// takes us there.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>addUnicornPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>accountPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addUnicorn</span><span style=color:#000;font-weight:700>()</span>

<span style=color:#8f5902;font-style:italic>// Now that we&#39;re on the AddUnicornPage, we will pass the &#34;sparkles&#34; object to
</span><span style=color:#8f5902;font-style:italic>// its createUnicorn() method. This method will take Sparkles&#39; attributes,
</span><span style=color:#8f5902;font-style:italic>// fill out the form, and click submit.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>unicornConfirmationPage</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>addUnicornPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createUnicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>)</span>

  </code></pre></div></div></div><p>既然您已经配置好了独角兽，
您需要进入第三步:确保它确实有效。</p><ul class="nav nav-tabs" id=tabs-4 role=tablist><li class=nav-item><a class="nav-link active tab-java" id=tabs-4-0-tab data-toggle=tab href=#tabs-4-0 role=tab onclick='handleClick("java")' aria-controls=tabs-4-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-python" id=tabs-4-1-tab data-toggle=tab href=#tabs-4-1 role=tab onclick='handleClick("python")' aria-controls=tabs-4-1 aria-selected=false>Python</a></li><li class=nav-item><a class="nav-link tab-csharp" id=tabs-4-2-tab data-toggle=tab href=#tabs-4-2 role=tab onclick='handleClick("csharp")' aria-controls=tabs-4-2 aria-selected=false>CSharp</a></li><li class=nav-item><a class="nav-link tab-ruby" id=tabs-4-3-tab data-toggle=tab href=#tabs-4-3 role=tab onclick='handleClick("ruby")' aria-controls=tabs-4-3 aria-selected=false>Ruby</a></li><li class=nav-item><a class="nav-link tab-javascript" id=tabs-4-4-tab data-toggle=tab href=#tabs-4-4 role=tab onclick='handleClick("javascript")' aria-controls=tabs-4-4 aria-selected=false>JavaScript</a></li><li class=nav-item><a class="nav-link tab-kotlin" id=tabs-4-5-tab data-toggle=tab href=#tabs-4-5 role=tab onclick='handleClick("kotlin")' aria-controls=tabs-4-5 aria-selected=false>Kotlin</a></li></ul><div class=tab-content id=tabs-4-content><div class="tab-pane fade show active" id=tabs-4-0 role=tabpanel aria-labelled-by=tabs-4-0-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=color:#8f5902;font-style:italic>// The exists() method from UnicornConfirmationPage will take the Sparkles
</span><span style=color:#8f5902;font-style:italic>// object--a specification of the attributes you want to see, and compare
</span><span style=color:#8f5902;font-style:italic>// them with the fields on the page.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Assert</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>assertTrue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles should have been created, with all attributes intact&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>unicornConfirmationPage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>exists</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#ce5c00;font-weight:700>));</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-4-1 role=tabpanel aria-labelled-by=tabs-4-1-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#8f5902;font-style:italic># The exists() method from UnicornConfirmationPage will take the Sparkles</span>
<span style=color:#8f5902;font-style:italic># object--a specification of the attributes you want to see, and compare</span>
<span style=color:#8f5902;font-style:italic># them with the fields on the page.</span>
<span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>unicorn_confirmation_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>exists</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>),</span> <span style=color:#4e9a06>&#34;Sparkles should have been created, with all attributes intact&#34;</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-4-2 role=tabpanel aria-labelled-by=tabs-4-2-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-CSharp data-lang=CSharp><span style=color:#8f5902;font-style:italic>// The exists() method from UnicornConfirmationPage will take the Sparkles 
</span><span style=color:#8f5902;font-style:italic>// object--a specification of the attributes you want to see, and compare
</span><span style=color:#8f5902;font-style:italic>// them with the fields on the page.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>True</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unicornConfirmationPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Exists</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>),</span> <span style=color:#4e9a06>&#34;Sparkles should have been created, with all attributes intact&#34;</span><span style=color:#000;font-weight:700>);</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-4-3 role=tabpanel aria-labelled-by=tabs-4-3-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Ruby data-lang=Ruby><span style=color:#8f5902;font-style:italic># The exists() method from UnicornConfirmationPage will take the Sparkles</span>
<span style=color:#8f5902;font-style:italic># object--a specification of the attributes you want to see, and compare</span>
<span style=color:#8f5902;font-style:italic># them with the fields on the page.</span>
<span style=color:#000>expect</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unicorn_confirmation_page</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>exists?</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>to</span> <span style=color:#000>be</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Sparkles should have been created, with all attributes intact&#39;</span>
  </code></pre></div></div><div class="tab-pane fade" id=tabs-4-4 role=tabpanel aria-labelled-by=tabs-4-4-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=color:#8f5902;font-style:italic>// The exists() method from UnicornConfirmationPage will take the Sparkles
</span><span style=color:#8f5902;font-style:italic>// object--a specification of the attributes you want to see, and compare
</span><span style=color:#8f5902;font-style:italic>// them with the fields on the page.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>assert</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unicornConfirmationPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>exists</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>),</span> <span style=color:#4e9a06>&#34;Sparkles should have been created, with all attributes intact&#34;</span><span style=color:#000;font-weight:700>);</span>

  
</code></pre></div></div><div class="tab-pane fade" id=tabs-4-5 role=tabpanel aria-labelled-by=tabs-4-5-tab><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Kotlin data-lang=Kotlin><span style=color:#8f5902;font-style:italic>// The exists() method from UnicornConfirmationPage will take the Sparkles 
</span><span style=color:#8f5902;font-style:italic>// object--a specification of the attributes you want to see, and compare
</span><span style=color:#8f5902;font-style:italic>// them with the fields on the page.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>assertTrue</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sparkles should have been created, with all attributes intact&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>unicornConfirmationPage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>exists</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sparkles</span><span style=color:#000;font-weight:700>))</span>
  </code></pre></div></div></div><p>请注意，测试人员在这段代码中除了谈论独角兽之外还没有做任何事情 — 没有按钮、定位器和浏览器控件。
这种对应用程序建模的方法允许您保持这些测试级别的命令不变，
即使 Larry 下周决定不再喜欢 Ruby-on-Rails，
并决定用最新的带有 Fortran 前端的 Haskell 绑定重新实现整个站点。</p><p>为了符合站点的重新设计，您的页面对象需要进行一些小的维护，但是这些测试将保持不变。
采用这一基本设计，您将希望继续使用尽可能少的面向浏览器的步骤来完成您的工作流。
您的下一个工作流程将包括在购物车中添加独角兽。
您可能需要多次迭代此测试，以确保购物车正确地保持其状态：
在开始之前，购物车中是否有多个独角兽?
购物车能装多少?
如果您创建多个具有相同名称或特性，它会崩溃吗?
它将只保留现有的一个还是添加另一个?</p><p>每次通过工作流时，您都希望尽量避免创建帐户、以用户身份登录和配置独角兽。
理想情况下，您将能够创建一个帐户，并通过 API 或数据库预先配置独角兽。
然后，您只需作为用户登录，找到 Sparkles，并将它添加到购物车中。</p><h3 id=是否自动化>是否自动化?</h3><p>自动化总是有优势吗? 什么时候应该决定去自动化测试用例?</p><p>自动化测试用例并不总是有利的. 有时候手动测试可能更合适. 例如，如果应用程序的用户界面，在不久的将来会发生很大变化，那么任何自动化都可能需要重写. 此外，有时根本没有足够的时间来构建自动化测试. 从短期来看，手动测试可能更有效. 如果应用程序的截止日期非常紧迫，当前没有可用的自动化测试，并且必须在特定时间范围内完成，那么手动测试是最好的解决方案.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6ac5cebe2b8df6bdf4a32c2ff87c8102>2 - 设计模式和开发策略</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Most of the documentation found in this section is still in English.
Please note we are not accepting pull requests to translate this content
as translating documentation of legacy components does not add value to
the community nor the project.</p></div><p>(previously located: <a href=https://github.com/SeleniumHQ/selenium/wiki/Bot-Style-Tests>https://github.com/SeleniumHQ/selenium/wiki/Bot-Style-Tests</a>)</p><h2 id=overview>Overview</h2><p>Over time, projects tend to accumulate large numbers of tests. As the total number of tests increases,
it becomes harder to make changes to the codebase &mdash; a single &ldquo;simple&rdquo; change may cause numerous tests to fail, even though the application still works properly. Sometimes these problems are unavoidable, but when they do occur you want to be up and running again as quickly as possible. The following design patterns and strategies have been used before with WebDriver to help making tests easier to write and maintain. They may help you too.</p><p><a href=/zh-cn/documentation/test_practices/encouraged/domain_specific_language/>DomainDrivenDesign</a>: Express your tests in the language of the end-user of the app.
<a href=/zh-cn/documentation/test_practices/encouraged/page_object_models/>PageObjects</a>: A simple abstraction of the UI of your web app.
LoadableComponent: Modeling PageObjects as components.
BotStyleTests: Using a command-based approach to automating tests, rather than the object-based approach that PageObjects encourage</p><h2 id=loadable-component>Loadable Component</h2><h3 id=what-is-it>What Is It?</h3><p>The LoadableComponent is a base class that aims to make writing PageObjects less painful. It does this by providing a standard way of ensuring that pages are loaded and providing hooks to make debugging the failure of a page to load easier. You can use it to help reduce the amount of boilerplate code in your tests, which in turn make maintaining your tests less tiresome.</p><p>There is currently an implementation in Java that ships as part of Selenium 2, but the approach used is simple enough to be implemented in any language.</p><h3 id=simple-usage>Simple Usage</h3><p>As an example of a UI that we&rsquo;d like to model, take a look at the <a href=https://github.com/SeleniumHQ/selenium/issues/new>new issue</a> page. From the point of view of a test author, this offers the service of being able to file a new issue. A basic Page Object would look like:</p><pre><code>package com.example.webdriver;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

public class EditIssue {

  private final WebDriver driver;

  public EditIssue(WebDriver driver) {
    this.driver = driver;
  }

  public void setSummary(String summary) {
    WebElement field = driver.findElement(By.name(&quot;summary&quot;));
    clearAndType(field, summary);
  }

  public void enterDescription(String description) {
    WebElement field = driver.findElement(By.name(&quot;comment&quot;));
    clearAndType(field, description);
  }

  public IssueList submit() {
    driver.findElement(By.id(&quot;submit&quot;)).click();
    return new IssueList(driver);
  }

  private void clearAndType(WebElement field, String text) {
    field.clear();
    field.sendKeys(text);
  }
}
</code></pre><p>In order to turn this into a LoadableComponent, all we need to do is to set that as the base type:</p><pre><code>public class EditIssue extends LoadableComponent&lt;EditIssue&gt; {
  // rest of class ignored for now
}
</code></pre><p>This signature looks a little unusual, but it all it means is that this class represents a LoadableComponent that loads the EditIssue page.</p><p>By extending this base class, we need to implement two new methods:</p><pre><code>  @Override
  protected void load() {
    driver.get(&quot;https://github.com/SeleniumHQ/selenium/issues/new&quot;);
  }

  @Override
  protected void isLoaded() throws Error {
    String url = driver.getCurrentUrl();
    assertTrue(&quot;Not on the issue entry page: &quot; + url, url.endsWith(&quot;/new&quot;));
  }
</code></pre><p>The <code>load</code> method is used to navigate to the page, whilst the <code>isLoaded</code> method is used to determine whether we are on the right page. Although the method looks like it should return a boolean, instead it performs a series of assertions using JUnit&rsquo;s Assert class. There can be as few or as many assertions as you like. By using these assertions it&rsquo;s possible to give users of the class clear information that can be used to debug tests.</p><p>With a little rework, our PageObject looks like:</p><pre><code>package com.example.webdriver;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import static junit.framework.Assert.assertTrue;

public class EditIssue extends LoadableComponent&lt;EditIssue&gt; {

  private final WebDriver driver;
  
  // By default the PageFactory will locate elements with the same name or id
  // as the field. Since the summary element has a name attribute of &quot;summary&quot;
  // we don't need any additional annotations.
  private WebElement summary;
  
  // Same with the submit element, which has the ID &quot;submit&quot;
  private WebElement submit;
  
  // But we'd prefer a different name in our code than &quot;comment&quot;, so we use the
  // FindBy annotation to tell the PageFactory how to locate the element.
  @FindBy(name = &quot;comment&quot;) private WebElement description;
  
  public EditIssue(WebDriver driver) {
    this.driver = driver;
    
    // This call sets the WebElement fields.
    PageFactory.initElements(driver, this);
  }

  @Override
  protected void load() {
    driver.get(&quot;https://github.com/SeleniumHQ/selenium/issues/new&quot;);
  }

  @Override
  protected void isLoaded() throws Error {
    String url = driver.getCurrentUrl();
    assertTrue(&quot;Not on the issue entry page: &quot; + url, url.endsWith(&quot;/new&quot;));
  }
  
  public void setSummary(String issueSummary) {
    clearAndType(summary, issueSummary);
  }

  public void enterDescription(String issueDescription) {
    clearAndType(description, issueDescription);
  }

  public IssueList submit() {
    submit.click();
    return new IssueList(driver);
  }

  private void clearAndType(WebElement field, String text) {
    field.clear();
    field.sendKeys(text);
  }
}

</code></pre><p>That doesn&rsquo;t seem to have bought us much, right? One thing it has done is encapsulate the information about how to navigate to the page into the page itself, meaning that this information&rsquo;s not scattered through the code base. It also means that we can do this in our tests:</p><pre><code>EditIssue page = new EditIssue(driver).get();
</code></pre><p>This call will cause the driver to navigate to the page if that&rsquo;s necessary.</p><h3 id=nested-components>Nested Components</h3><p>LoadableComponents start to become more useful when they are used in conjunction with other LoadableComponents. Using our example, we could view the &ldquo;edit issue&rdquo; page as a component within a project&rsquo;s website (after all, we access it via a tab on that site). You also need to be logged in to file an issue. We could model this as a tree of nested components:</p><pre><code> + ProjectPage
 +---+ SecuredPage
     +---+ EditIssue
</code></pre><p>What would this look like in code? For a start, each logical component would have its own class. The &ldquo;load&rdquo; method in each of them would &ldquo;get&rdquo; the parent. The end result, in addition to the EditIssue class above is:</p><p>ProjectPage.java:</p><pre><code>package com.example.webdriver;

import org.openqa.selenium.WebDriver;

import static org.junit.Assert.assertTrue;

public class ProjectPage extends LoadableComponent&lt;ProjectPage&gt; {

  private final WebDriver driver;
  private final String projectName;

  public ProjectPage(WebDriver driver, String projectName) {
    this.driver = driver;
    this.projectName = projectName;
  }

  @Override
  protected void load() {
    driver.get(&quot;http://&quot; + projectName + &quot;.googlecode.com/&quot;);
  }

  @Override
  protected void isLoaded() throws Error {
    String url = driver.getCurrentUrl();

    assertTrue(url.contains(projectName));
  }
}
</code></pre><p>and SecuredPage.java:</p><pre><code>package com.example.webdriver;

import org.openqa.selenium.By;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

import static org.junit.Assert.fail;

public class SecuredPage extends LoadableComponent&lt;SecuredPage&gt; {

  private final WebDriver driver;
  private final LoadableComponent&lt;?&gt; parent;
  private final String username;
  private final String password;

  public SecuredPage(WebDriver driver, LoadableComponent&lt;?&gt; parent, String username, String password) {
    this.driver = driver;
    this.parent = parent;
    this.username = username;
    this.password = password;
  }

  @Override
  protected void load() {
    parent.get();

    String originalUrl = driver.getCurrentUrl();

    // Sign in
    driver.get(&quot;https://www.google.com/accounts/ServiceLogin?service=code&quot;);
    driver.findElement(By.name(&quot;Email&quot;)).sendKeys(username);
    WebElement passwordField = driver.findElement(By.name(&quot;Passwd&quot;));
    passwordField.sendKeys(password);
    passwordField.submit();

    // Now return to the original URL
    driver.get(originalUrl);
  }

  @Override
  protected void isLoaded() throws Error {
    // If you're signed in, you have the option of picking a different login.
    // Let's check for the presence of that.

    try {
      WebElement div = driver.findElement(By.id(&quot;multilogin-dropdown&quot;));
    } catch (NoSuchElementException e) {
      fail(&quot;Cannot locate user name link&quot;);
    }
  }
}
</code></pre><p>The &ldquo;load&rdquo; method in EditIssue now looks like:</p><pre><code>  @Override
  protected void load() {
    securedPage.get();

    driver.get(&quot;https://github.com/SeleniumHQ/selenium/issues/new&quot;);
  }
</code></pre><p>This shows that the components are all &ldquo;nested&rdquo; within each other. A call to <code>get()</code> in EditIssue will cause all its dependencies to load too. The example usage:</p><pre><code>public class FooTest {
  private EditIssue editIssue;

  @Before
  public void prepareComponents() {
    WebDriver driver = new FirefoxDriver();

    ProjectPage project = new ProjectPage(driver, &quot;selenium&quot;);
    SecuredPage securedPage = new SecuredPage(driver, project, &quot;example&quot;, &quot;top secret&quot;);
    editIssue = new EditIssue(driver, securedPage);
  }

  @Test
  public void demonstrateNestedLoadableComponents() {
    editIssue.get();

    editIssue.setSummary(&quot;Summary&quot;);
    editIssue.enterDescription(&quot;This is an example&quot;);
  }
}
</code></pre><p>If you&rsquo;re using a library such as <a href=https://github.com/zorzella/guiceberry>Guiceberry</a> in your tests,
the preamble of setting up the PageObjects can be omitted leading to nice, clear, readable tests.</p><h2 id=bot-pattern>Bot Pattern</h2><p>(previously located: <a href=https://github.com/SeleniumHQ/selenium/wiki/Bot-Style-Tests>https://github.com/SeleniumHQ/selenium/wiki/Bot-Style-Tests</a>)</p><p>Although PageObjects are a useful way of reducing duplication in your tests, it&rsquo;s not always a pattern that teams feel comfortable following. An alternative approach is to follow a more &ldquo;command-like&rdquo; style of testing.</p><p>A &ldquo;bot&rdquo; is an action-oriented abstraction over the raw Selenium APIs. This means that if you find that commands aren&rsquo;t doing the Right Thing for your app, it&rsquo;s easy to change them. As an example:</p><pre><code>public class ActionBot {
  private final WebDriver driver;

  public ActionBot(WebDriver driver) {
    this.driver = driver;
  }

  public void click(By locator) {
    driver.findElement(locator).click();
  }

  public void submit(By locator) {
    driver.findElement(locator).submit();
  }

  /** 
   * Type something into an input field. WebDriver doesn't normally clear these
   * before typing, so this method does that first. It also sends a return key
   * to move the focus out of the element.
   */
  public void type(By locator, String text) { 
    WebElement element = driver.findElement(locator);
    element.clear();
    element.sendKeys(text + &quot;\n&quot;);
  }
}
</code></pre><p>Once these abstractions have been built and duplication in your tests identified, it&rsquo;s possible to layer PageObjects on top of bots.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-dd0cceff6f2eda0a41e7565c12418f2e>3 - 测试类型</h1><h3 id=验收测试>验收测试</h3><p>进行这种类型的测试以确定功能或系统是否满足客户的期望和要求.
这种测试通常涉及客户的合作或反馈,
是一种验证活动,
可以用于回答以下问题：</p><blockquote><p>我们是否在制造 <strong><em>正确的</em></strong> 产品?</p></blockquote><p>对于Web应用程序,
可以通过模拟用户期望的行为
直接使用Selenium来完成此测试的自动化.
可以通过记录/回放, 或通过本文档中介绍的各种支持的语言来完成此类模拟.
注意：有些人可能还会提到, 验收测试是 <strong><em>功能测试</em></strong> 的子类型.</p><h3 id=功能测试>功能测试</h3><p>进行这种类型的测试是为了确定功能或系统是否正常运行而没有问题.
它会在不同级别检查系统,
以确保涵盖所有方案并且系统能够执行预期的 <em>工作</em> .
这是一个验证活动, 它回答了以下问题：</p><blockquote><p>我们是否在 <strong><em>正确地</em></strong> 制造产品？</p></blockquote><p>这通常包括：
测试没有错误 (404, 异常…) ,
以可用的方式 (正确的重定向) 正常运行,
以可访问的方式并匹配其规格 (请参见前述的 <strong><em>验收测试</em></strong> ) .</p><p>对于Web应用程序,
可以通过模拟预期的结果, 直接使用Selenium来完成此测试的自动化.
可以通过记录/回放或通过本文档中说明的各种支持的语言来完成此模拟.</p><h3 id=性能测试>性能测试</h3><p>顾名思义, 进行性能测试是为了衡量应用程序的性能.</p><p>性能测试主要有两种类型:</p><h4 id=负载测试>负载测试</h4><p>进行了负载测试,
以验证应用程序在各种特定的负载
(通常是同时连接一定数量的用户) 下的运行状况</p><h4 id=压力测试>压力测试</h4><p>进行压力测试,
以验证应用程序在压力 (或高于最大支持负载) 下的运行状况.</p><p>通常, 性能测试是通过执行一些Selenium书写的测试来完成的,
这些测试模拟了不同的用户
使用Web应用程序的特定功能
并检索了一些有意义的指标.</p><p>通常, 这是由其他检索指标的工具完成的.<br><strong><em>JMeter</em></strong> 就是这样一种工具.</p><p>对于Web应用程序,
要测量的详细信息包括
吞吐量、 延迟、数据丢失、单个组件加载时间&mldr;</p><p>注意1：所有浏览器的开发人员工具
均具有“性能”标签 (可通过按F12进行访问)</p><p>注2：这属于 <strong><em>非功能测试</em></strong> 的类型,
因为它通常是按系统而不是按功能/特征进行测量.</p><h3 id=回归测试>回归测试</h3><p>此测试通常在修改, 修复或添加功能之后进行.</p><p>为了确保所做的更改没有破坏任何现有功能,
将再次执行一些已经执行过的测试.</p><p>重新执行的测试集可以是全部或部分,
并且可以包括几种不同的类型,
具体取决于具体的应用程序和开发团队.</p><h3 id=测试驱动开发-tdd>测试驱动开发 (TDD)</h3><p>TDD本身不是一种测试类型,
而是一种迭代开发方法,
用于测试驱动功能的设计.</p><p>每个周期都从创建功能应通过的一组单元测试开始
(这将使首次执行失败) .</p><p>此后, 进行开发以使测试通过.
在另一个周期开始再次执行测试,
此过程一直持续到所有测试通过为止.</p><p>如此做的目的是基于以下情况,
既缺陷发现的时间越早成本越低,
从而加快了应用程序的开发.</p><h3 id=行为驱动开发-bdd>行为驱动开发 (BDD)</h3><p>BDD还是基于上述 (TDD) 的迭代开发方法,
其目的是让各方参与到应用程序的开发中.</p><p>每个周期都从创建一些规范开始 (应该失败) .
然后创建会失败的单元测试 (也应该失败) ,
之后着手开发.</p><p>重复此循环, 直到所有类型的测试通过.</p><p>为此, 使用了规范语言.
因为简单、标准和明确, 各方都应该能够理解.
大多数工具都使用 <strong><em>Gherkin</em></strong> 作为这种语言.</p><p>目标是为了解决潜在的验收问题,
从而能够检测出比TDD还要多的错误,
并使各方之间的沟通更加顺畅.</p><p>当前有一组工具可用于编写规范
并将其与编码功能 (例如 <strong><em>Cucumber</em></strong> 或 <strong><em>SpecFlow</em></strong> ) 匹配.</p><p>在Selenium之上构建了一系列工具,
可通过将BDD规范直接转换为可执行代码, 使得上述过程更为迅速.
例如 <strong><em>JBehave, Capybara 和 Robot Framework</em></strong>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-3adeefbf55b891277e0d61644d37e819>4 - 指南和建议</h1><div class=lead>Selenium项目的一些测试指南和建议.</div><p>关于"最佳实践"的注解：我们有意在本文档中避免使用"最佳实践"的说辞.
没有一种方法可以适用于所有情况.
我们更喜欢"指南和建议"的想法.
我们鼓励您通读这些内容, 并仔细地确定哪种方法适用于您的特定环境.</p><p>由于许多原因, 功能测试很难正确完成. 即便应用程序的状态, 复杂性, 依赖还不够让测试变得
足够复杂, 操作浏览器（特别是跨浏览器的兼容性测试）就已经使得写一个好的测试变成一种挑战.</p><p>Selenium提供了一些工具使得功能测试用户更简单的操作浏览器, 但是这些工具并不能帮助你来写一个好的
架构的测试套件. 这章我们会针对怎么来做web页面的功能测试的自动化给出一些忠告, 指南和建议.</p><p>这章记录了很多历年来成功的使用Selenium的用户的常用的软件设计模式.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a07d818fdd319e2c92a8acc85ef8a3e8>4.1 - PO设计模式</h1><p>PO（page object）设计模式是在自动化中已经流行起来的一种易于维护和减少代码的设计模式. 在自动化测试中, PO对象作为一个与页面交互的接口.
测试中需要与页面的UI进行交互时, 便调用PO的方法. 这样做的好处是, 如果页面的UI发生了更改,那么测试用例本身不需要更改, 只需更改PO中的代码即可.</p><p>PO设计模式具有以下优点:</p><ul><li>测试代码与页面的定位代码（如定位器或者其他的映射）相分离.</li><li>该页面提供的方法或元素在一个独立的类中, 而不是将这些方法或元素分散在整个测试中.</li></ul><p>这允许在一个地方修改由于UI变化所带来的所有修改. 随着这种"测试设计模式"的广泛使用, 可以在众多博客中找到有关此技术的有用信息.
我们鼓励希望了解更多信息的读者在互联网上搜索有关此主题的博客. 许多人已经写过这种设计模式, 并且可以提供超出本用户指南范围的有用提示.
不过, 为了让您入门, 我们将通过一个简单的示例来说明页面对象.</p><p>首先, 思考一个不使用PO模式的自动化测试的典型案例:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#8f5902;font-style:italic>/***
</span><span style=color:#8f5902;font-style:italic> * Tests login feature
</span><span style=color:#8f5902;font-style:italic> */</span>
<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Login</span> <span style=color:#ce5c00;font-weight:700>{</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>testLogin</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// 在登录页面上填写登录数据
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;user_name&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;userName&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;my supersecret password&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;sign-in&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>

    <span style=color:#8f5902;font-style:italic>// 登录后验证h1标签是否为Hello userName
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>tagName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;h1&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>isDisplayed</span><span style=color:#ce5c00;font-weight:700>();</span>
    <span style=color:#000>assertThat</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>tagName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;h1&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>getText</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>is</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Hello userName&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
  <span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>这种方法有两个问题.</p><ul><li>测试方法与定位器 (在此实例中为By.name)耦合过于严重. 如果测试的用户界面更改了其定位器或登录名的输入和处理方式, 则测试本身必须进行更改.</li><li>在对登录页面的所有测试中, 同一个定位器会散布在其中.</li></ul><p>可以在以下登录页面的示例中应用PO设计模式重写此示例.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.By</span><span style=color:#ce5c00;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic> * Page Object encapsulates the Sign-in page.
</span><span style=color:#8f5902;font-style:italic> */</span>
<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SignInPage</span> <span style=color:#ce5c00;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>;</span>

  <span style=color:#8f5902;font-style:italic>// &lt;input name=&#34;user_name&#34; type=&#34;text&#34; value=&#34;&#34;&gt;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>By</span> <span style=color:#000>usernameBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;user_name&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#8f5902;font-style:italic>// &lt;input name=&#34;password&#34; type=&#34;password&#34; value=&#34;&#34;&gt;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>By</span> <span style=color:#000>passwordBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#8f5902;font-style:italic>// &lt;input name=&#34;sign_in&#34; type=&#34;submit&#34; value=&#34;SignIn&#34;&gt;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>By</span> <span style=color:#000>signinBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;sign_in&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>SignInPage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>){</span>
    <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>;</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic>    * Login as valid user
</span><span style=color:#8f5902;font-style:italic>    *
</span><span style=color:#8f5902;font-style:italic>    * @param userName
</span><span style=color:#8f5902;font-style:italic>    * @param password
</span><span style=color:#8f5902;font-style:italic>    * @return HomePage object
</span><span style=color:#8f5902;font-style:italic>    */</span>
  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>HomePage</span> <span style=color:#000>loginValidUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>userName</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span> <span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>usernameBy</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>userName</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>passwordBy</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>signinBy</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>
    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HomePage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>Home page的PO如下所示.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.By</span><span style=color:#ce5c00;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.WebDriver</span><span style=color:#ce5c00;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic> * Page Object encapsulates the Home Page
</span><span style=color:#8f5902;font-style:italic> */</span>
<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HomePage</span> <span style=color:#ce5c00;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>;</span>

  <span style=color:#8f5902;font-style:italic>// &lt;h1&gt;Hello userName&lt;/h1&gt;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>By</span> <span style=color:#000>messageBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>tagName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;h1&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>HomePage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>){</span>
    <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>;</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getTitle</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>equals</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Home Page of logged in user&#34;</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
      <span style=color:#204a87;font-weight:700>throw</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>IllegalStateException</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;This is not Home Page of logged in user,&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span>
            <span style=color:#4e9a06>&#34; current page is: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getCurrentUrl</span><span style=color:#ce5c00;font-weight:700>());</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic>    * Get message (h1 tag)
</span><span style=color:#8f5902;font-style:italic>    *
</span><span style=color:#8f5902;font-style:italic>    * @return String message text
</span><span style=color:#8f5902;font-style:italic>    */</span>
  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>getMessageText</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>messageBy</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>getText</span><span style=color:#ce5c00;font-weight:700>();</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>HomePage</span> <span style=color:#000>manageProfile</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Page encapsulation to manage profile functionality
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HomePage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#ce5c00;font-weight:700>}</span>
  <span style=color:#8f5902;font-style:italic>/* 提供登录用户主页所代表的服务的更多方法. 这些方法可能会返回更多页面对象. 
</span><span style=color:#8f5902;font-style:italic>  例如, 单击&#34;撰写邮件&#34;按钮可以返回ComposeMail类对象 */</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>那么, 接下来的登录测试用例将使用这两个页面对象.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#8f5902;font-style:italic>/***
</span><span style=color:#8f5902;font-style:italic> * Tests login feature
</span><span style=color:#8f5902;font-style:italic> */</span>
<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>TestLogin</span> <span style=color:#ce5c00;font-weight:700>{</span>

  <span style=color:#5c35cc;font-weight:700>@Test</span>
  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>testLogin</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>SignInPage</span> <span style=color:#000>signInPage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SignInPage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>HomePage</span> <span style=color:#000>homePage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>signInPage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>loginValidUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;userName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#000>assertThat</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>homePage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getMessageText</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>is</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Hello userName&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>PO的设计方式具有很大的灵活性, 但是有一些基本规则可以使测试代码具有理想的可维护性.</p><p>PO本身绝不应进行判断或断言. 判断和断言是测试的一部分, 应始终在测试的代码内, 而不是在PO中.
PO用来包含页面的表示形式, 以及页面通过方法提供的服务, 但是与PO无关的测试代码不应包含在其中.</p><p>实例化PO时, 应进行一次验证, 即验证页面以及页面上可能的关键元素是否已正确加载.
在上面的示例中, SignInPage和HomePage的构造函数均检查预期的页面是否可用并准备接受测试请求.</p><p>PO不一定需要代表整个页面. PO设计模式可用于表示页面上的组件.
如果自动化测试中的页面包含多个组件, 则每个组件都有单独的页面对象, 则可以提高可维护性.</p><p>还有其他设计模式也可以在测试中使用. 一些使用页面工厂实例化其页面对象. 讨论所有这些都不在本用户指南的范围之内.
在这里, 我们只想介绍一些概念, 以使读者了解可以完成的一些事情.
如前所述, 许多人都在此主题上写博客, 我们鼓励读者搜索有关这些主题的博客.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-eff46b072335747496ab495afaa216a4>4.2 - 领域特定语言</h1><p>领域特定语言 (DSL) 是一种为用户提供解决问题的表达方式的系统.
它使用户可以按照自己的术语与系统进行交互, 而不仅仅是通过程序员的语言.</p><p>您的用户通常并不关心您网站的外观.
他们不在乎装饰, 动画或图形.
他们希望借助于您的系统, 以最小的难度使新员工融入整个流程；
他们想预订去阿拉斯加的旅行；
他们想以折扣价配置和购买独角兽.
您作为测试人员的工作应尽可能接近"捕捉”这种思维定势.
考虑到这一点, 我们开始着手"建模”您正在工作的应用程序,
以使测试脚本 (发布前用户仅有的代理) &ldquo;说话”并代表用户.</p><p>在Selenium中, DSL通常由方法表示,
其编写方式使API简单易读-它们使开发人员和干系人
(用户, 产品负责人, 商业智能专家等) 之间能够产生汇报.</p><h2 id=好处>好处</h2><ul><li><strong>可读:</strong> 业务关系人可以理解.</li><li><strong>可写:</strong> 易于编写, 避免不必要的重复.</li><li><strong>可扩展:</strong> 可以 (合理地) 添加功能而无需打破约定以及现有功能.</li><li><strong>可维护:</strong> 通过将实现细节排除在测试用例之外, 您可以很好地隔离 AUT* 的修改.</li></ul><h2 id=java>Java</h2><p>以下是Java中合理的DSL方法的示例.
为简便起见, 假定 <code>driver</code> 对象是预定义的并且可用于该方法.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic> * Takes a username and password, fills out the fields, and clicks &#34;login&#34;.
</span><span style=color:#8f5902;font-style:italic> * @return An instance of the AccountPage
</span><span style=color:#8f5902;font-style:italic> */</span>
<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>AccountPage</span> <span style=color:#000>loginAsUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>username</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span> <span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
  <span style=color:#000>WebElement</span> <span style=color:#000>loginField</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;loginField&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
  <span style=color:#000>loginField</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>clear</span><span style=color:#ce5c00;font-weight:700>();</span>
  <span style=color:#000>loginField</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>username</span><span style=color:#ce5c00;font-weight:700>);</span>

  <span style=color:#8f5902;font-style:italic>// Fill out the password field. The locator we&#39;re using is &#34;By.id&#34;, and we should
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// have it defined elsewhere in the class.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>WebElement</span> <span style=color:#000>passwordField</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
  <span style=color:#000>passwordField</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>clear</span><span style=color:#ce5c00;font-weight:700>();</span>
  <span style=color:#000>passwordField</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>);</span>

  <span style=color:#8f5902;font-style:italic>// Click the login button, which happens to have the id &#34;submit&#34;.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;submit&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>

  <span style=color:#8f5902;font-style:italic>// Create and return a new instance of the AccountPage (via the built-in Selenium
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// PageFactory).
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>PageFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newInstance</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>AccountPage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>此方法完全从测试代码中抽象出输入字段, 按钮, 单击甚至页面的概念.
使用这种方法, 测试人员要做的就是调用此方法.
这给您带来了维护方面的优势: 如果登录字段曾经更改过,
则只需更改此方法-而非您的测试.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>loginTest</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>loginAsUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;cbrown&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;cl0wn3&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>

    <span style=color:#8f5902;font-style:italic>// Now that we&#39;re logged in, do some other stuff--since we used a DSL to support
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// our testers, it&#39;s as easy as choosing from available methods.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>do</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>something</span><span style=color:#ce5c00;font-weight:700>();</span>
    <span style=color:#204a87;font-weight:700>do</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>somethingElse</span><span style=color:#ce5c00;font-weight:700>();</span>
    <span style=color:#000>Assert</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>assertTrue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Something should have been done!&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>something</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>wasDone</span><span style=color:#ce5c00;font-weight:700>());</span>

    <span style=color:#8f5902;font-style:italic>// Note that we still haven&#39;t referred to a button or web control anywhere in this
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// script...
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>郑重强调: 您的主要目标之一应该是编写一个API,
该API允许您的测试解决 <strong>当前的问题, 而不是UI的问题</strong>.
用户界面是用户的次要问题–用户并不关心用户界面, 他们只是想完成工作.
您的测试脚本应该像用户希望做的事情以及他们想知道的事情的完整清单那样易于阅读.
测试不应该考虑UI如何要求您去做.</p><p>*<strong>AUT</strong>: 待测系统</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7c284c8ef2a809f491abaacf4bc8174e>4.3 - 生成应用程序状态</h1><p>Selenium不应用于准备测试用例.
测试用例中所有重复性动作和准备工作, 都应通过其他方法来完成.<br>例如, 大多数Web UI都具有身份验证 (诸如一个登录表单) .
在每次测试之前通过Web浏览器进行登录的消除, 将提高测试的速度和稳定性.
应该创建一种方法来获取对 AUT* 的访问权限 (例如, 使用API登录并设置Cookie) .
此外, 不应使用Selenium创建预加载数据来进行测试的方法.<br>如前所述, 应利用现有的API为 AUT* 创建数据.
***AUT**: 待测系统</p></div><div class=td-content style=page-break-before:always><h1 id=pg-17499bca0a70e7307770deb1aeed0396>4.4 - 模拟外部服务</h1><p>消除对外部服务的依赖性将大大提高测试的速度和稳定性.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7ac05e3d898ebefa61aea590b371bb90>4.5 - 改善报告</h1><p>Selenium并非旨在报告测试用例的运行状态.
利用单元测试框架的内置报告功能是一个好的开始.
大多数单元测试框架都有可以生成xUnit或HTML格式的报告.
xUnit报表很受欢迎, 可以将其结果导入到持续集成（CI）服务器,
例如Jenkins、Travis、Bamboo等.
以下是一些链接, 可获取关于几种语言报表输出的更多信息.</p><p><a href=//github.com/nunit/docs/wiki/Console-Runner>NUnit 3 Console Runner</a></p><p><a href=//github.com/nunit/docs/wiki/Console-Command-Line>NUnit 3 Console Command Line</a></p><p><a href=//xunit.net/docs/getting-test-results-in-teamcity>xUnit getting test results in TeamCity</a></p><p><a href=//xunit.net/docs/getting-test-results-in-ccnet>xUnit getting test results in CruiseControl.NET</a></p><p><a href=//xunit.net/docs/getting-test-results-in-azure-devops>xUnit getting test results in Azure DevOps</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-fa48c36df684f7be6ce81e5e93388b9e>4.6 - 使用定位器的提示</h1><div class=lead>何时使用哪些定位器以及如何在代码中最好地管理它们.</div><p>这里有一些 <a href=/zh-cn/documentation/webdriver/elements/locators/>支持的定位策略</a> 的例子 .</p><p>一般来说，如果 HTML 的 id 是可用的、唯一的且是可预测的，那么它就是在页面上定位元素的首选方法。它们的工作速度非常快，可以避免复杂的 DOM 遍历带来的大量处理。</p><p>如果没有唯一的 id，那么最好使用写得好的 CSS 选择器来查找元素。XPath 和 CSS 选择器一样好用，但是它语法很复杂，并且经常很难调试。尽管 XPath 选择器非常灵活，但是他们通常未经过浏览器厂商的性能测试，并且运行速度很慢。</p><p>基于链接文本和部分链接文本的选择策略有其缺点，即只能对链接元素起作用。此外，它们在 WebDriver 内部调用 <a href=https://www.w3.org/TR/webdriver/#link-text>querySelectorAll</a> 选择器。</p><p>标签名可能是一种危险的定位元素的方法。页面上经常出现同一标签的多个元素。这在调用 <em>findElements(By)</em> 方法返回元素集合的时候非常有用。</p><p>建议您尽可能保持定位器的紧凑性和可读性。使用 WebDriver 遍历 DOM 结构是一项性能花销很大的操作，搜索范围越小越好。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-771c393afbab1342a428f0976ae22ab2>4.7 - 避免共享状态</h1><p>尽管在多个地方都提到过, 但这点仍值得被再次提及. 确保测试相互隔离.</p><ul><li><p>不要共享测试数据.
想象一下有几个测试, 每个测试都会在选择操作执行之前查询数据库中的有效订单.
如果两个测试采用相同的顺序, 则很可能会出现意外行为.</p></li><li><p>清理应用程序中过时的数据, 这些数据可能会被其他测试.
例如无效的订单记录.</p></li><li><p>每次测试都创建一个新的WebDriver实例.
这在确保测试隔离的同时可以保障并行化更为简单.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-dfe07108b6d0f913b964fe6e4338d5ba>4.8 - 测试的独立性</h1><p>将每个测试编写为独立的单元.
以不依赖于其他测试完成的方式编写测试:</p><p>例如有一个内容管理系统,
您可以借助其创建一些自定义内容,
这些内容在发布后作为模块显示在您的网站上,
并且CMS和应用程序之间的同步可能需要一些时间.</p><p>测试模块的一种错误方法是在测试中创建并发布内容,
然后在另一测试中检查该模块.
这是不可取的, 因为发布后内容可能无法立即用于其他测试.</p><p>与之相反的事, 您可以创建在受影响的测试中打开和关闭的打桩内容, 并将其用于验证模块.
而且, 对于内容的创建, 您仍然可以进行单独的测试.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-40d1fd2b426846ea61f9362119eb7b4b>4.9 - 考虑使用Fluent API</h1><p>Martin Fowler创造了术语 <a href=//www.martinfowler.com/bliki/FluentInterface.html>&ldquo;Fluent API&rdquo;</a>.
Selenium已经在其 <code>FluentWait</code> 类中实现了类似的东西, 这是对标准 <code>Wait</code> 类的替代.
您可以在页面对象中启用Fluent API设计模式, 然后使用如下代码段查询Google搜索页面:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#4e9a06>&#34;http://www.google.com/webhp?hl=en&amp;amp;tab=ww&#34;</span> <span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#000>GoogleSearchPage</span> <span style=color:#000>gsp</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>GoogleSearchPage</span><span style=color:#ce5c00;font-weight:700>();</span>
<span style=color:#000>gsp</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>withFluent</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setSearchString</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>clickSearchButton</span><span style=color:#ce5c00;font-weight:700>();</span>
</code></pre></div><p>Google页面对象类具有这种流畅行为后可能看起来像这样:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>GoogleSearchPage</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>LoadableComponent</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>GoogleSearchPage</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>;</span>
  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>GSPFluentInterface</span> <span style=color:#000>gspfi</span><span style=color:#ce5c00;font-weight:700>;</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>GSPFluentInterface</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>GoogleSearchPage</span> <span style=color:#000>gsp</span><span style=color:#ce5c00;font-weight:700>;</span>

    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GSPFluentInterface</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>GoogleSearchPage</span> <span style=color:#000>googleSearchPage</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
        <span style=color:#000>gsp</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>googleSearchPage</span><span style=color:#ce5c00;font-weight:700>;</span>
    <span style=color:#ce5c00;font-weight:700>}</span>

    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GSPFluentInterface</span> <span style=color:#000>clickSearchButton</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
        <span style=color:#000>gsp</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>searchButton</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>;</span>
    <span style=color:#ce5c00;font-weight:700>}</span>

    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GSPFluentInterface</span> <span style=color:#000>setSearchString</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>String</span> <span style=color:#000>sstr</span> <span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
        <span style=color:#000>clearAndType</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>gsp</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>searchField</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>sstr</span> <span style=color:#ce5c00;font-weight:700>);</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>;</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#5c35cc;font-weight:700>@FindBy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;gbqfq&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>WebElement</span> <span style=color:#000>searchField</span><span style=color:#ce5c00;font-weight:700>;</span>
  <span style=color:#5c35cc;font-weight:700>@FindBy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;gbqfb&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>WebElement</span> <span style=color:#000>searchButton</span><span style=color:#ce5c00;font-weight:700>;</span>
  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GoogleSearchPage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>gspfi</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>GSPFluentInterface</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#204a87;font-weight:700>this</span> <span style=color:#ce5c00;font-weight:700>);</span>
    <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>// If load() fails, calls isLoaded() until page is finished loading
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>PageFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>initElements</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// Initialize WebElements on page
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GSPFluentInterface</span> <span style=color:#000>withFluent</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>gspfi</span><span style=color:#ce5c00;font-weight:700>;</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>clickSearchButton</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>searchButton</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setSearchString</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>String</span> <span style=color:#000>sstr</span> <span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>clearAndType</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>searchField</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>sstr</span> <span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#5c35cc;font-weight:700>@Override</span>
  <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>isLoaded</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Error</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>Assert</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>assertTrue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Google search page is not yet loaded.&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>isSearchFieldVisible</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>);</span>
  <span style=color:#ce5c00;font-weight:700>}</span>

  <span style=color:#5c35cc;font-weight:700>@Override</span>
  <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>load</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>isSFieldPresent</span> <span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
      <span style=color:#000>Wait</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>wait</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverWait</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Duration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ofSeconds</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>3</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>);</span>
      <span style=color:#000>wait</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>until</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>visibilityOfElementLocated</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;gbqfq&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>();</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
  <span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3ce2b89debe65906eae5f1da85962607>4.10 - 每次测试都刷新浏览器</h1><p>每次测试都从一个干净的已知状态开始.
理想情况下, 为每次测试打开一个新的虚拟机.
如果打开新虚拟机不切实际, 则至少应为每次测试启动一个新的WebDriver.
对于Firefox, 请使用您已知的配置文件去启动WebDriver.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>FirefoxProfile</span> <span style=color:#000>profile</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxProfile</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>File</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;pathToFirefoxProfile&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
<span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxDriver</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>profile</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-b71f51b4e474502507b0841f5d152d1a>5 - 不鼓励的行为</h1><div class=lead>使用Selenium自动化浏览器时应避免的事项.</div></div><div class=td-content><h1 id=pg-12a8f4e30343b86339acb24c22b1d4ae>5.1 - 验证码</h1><p>验证码 (CAPTCHA), 是 <em>全自动区分计算机和人类的图灵测试</em> <em>(Completely Automated Public Turing test to tell Computers and Humans Apart)</em> 的简称,
是被明确地设计用于阻止自动化的, 所以不要尝试!<br>规避验证码的检查, 主要有两个策略:</p><ul><li>在测试环境中禁用验证码</li><li>添加钩子以允许测试绕过验证码</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1223ebcabcfa4c9b6ea24c5aaffbc509>5.2 - 文件下载</h1><p>虽然可以通过在Selenium的控制下单击浏览器的链接来开始下载, 但是API并不会暴露下载进度, 因此这是一种不理想的测试下载文件的方式.
因为下载文件并非模拟用户与Web平台交互的重要方面. 取而代之的是, 应使用Selenium(以及任何必要的cookie)查找链接, 并将其传递给例如<a href=//curl.haxx.se/libcurl/>libcurl</a>这样的HTTP请求库.</p><p><a href=https://github.com/SeleniumHQ/htmlunit-driver>HtmlUnit driver</a>
可以通过实现<a href=https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/attachment/AttachmentHandler.html>AttachmentHandler</a>
接口将附件作为输入流进行访问来下载附件.
可以将AttachmentHandler添加到
<a href=https://htmlunit.sourceforge.io/>HtmlUnit</a> WebClient.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5f748c8597e92ebc444be6a9c4e7cdd3>5.3 - HTTP响应码</h1><p>对于Selenium RC中的某些浏览器配置，
Selenium充当了浏览器和自动化站点之间的代理.
这意味着可以捕获或操纵通过Selenium传递的所有浏览器流量.
<code>captureNetworkTraffic()</code> 方法旨在捕获浏览器和自动化站点之间的所有网络流量，包括HTTP响应码.</p><p>Selenium WebDriver是一种完全不同的浏览器自动化实现，
它更喜欢表现得像用户一样，这种方式来自于基于WebDriver编写测试的方式.
在自动化功能测试中，检查状态码并不是测试失败的特别重要的细节, 之前的步骤更重要.</p><p>浏览器将始终呈现HTTP状态代码，例如404或500错误页面.
遇到这些错误页面时，一种“快速失败”的简单方法是
在每次加载页面后检查页面标题或可信赖点的内容（例如 <code>&lt;h1></code> 标签）.
如果使用的是页面对象模型，则可以将此检查置于类构造函数中或类似于期望的页面加载的位置.
有时，HTTP代码甚至可能出现在浏览器的错误页面中，
您可以使用WebDriver读取此信息并改善调试输出.</p><p>检查网页本身的一种理想实践是符合WebDriver的呈现以及用户的视角.</p><p>如果您坚持，捕获HTTP状态代码的高级解决方案是复刻Selenium RC的行为去使用代理.
WebDriver API提供了为浏览器设置代理的功能，
并且有许多代理可以通过编程方式来操纵发送到Web服务器和从Web服务器接收的请求的内容.
使用代理可以决定如何响应重定向响应代码.
此外，并非每个浏览器都将响应代码提供给WebDriver，
因此选择使用代理可以使您拥有适用于每个浏览器的解决方案.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9bdc1ce1d6b5b575d611d3c7acfc776b>5.4 - Gmail, email 和 Facebook 登录</h1><p>由于多种原因, 不建议使用WebDriver登录Gmail和Facebook等网站.
除了违反这些网站的使用条款之外 (您可能会面临帐户被关闭的风险) ,
还有其运行速度缓慢且不可靠的因素.</p><p>理想的做法是使用电子邮件供应商提供的API,
或者对于Facebook, 使用开发者工具的服务,
该服务是被用于创建测试帐户、朋友等内容的API.
尽管使用API可能看起来有些额外的工作量,
但是您将获得基于速度、可靠性和稳定性的回报.
API不会频繁更改, 但是网页和HTML定位符经常变化,
并且需要您更新测试框架的代码.</p><p>在任何时候测试使用WebDriver登录第三方站点,
都会增加测试失败的风险,
因为这会使您的测试时间更长.
通常的经验是, 执行时间较长的测试会更加脆弱和不可靠.</p><p>符合<a href=//w3c.github.io/webdriver/webdriver-spec.html>W3C conformant</a>
的WebDriver实现,
也会使用 <code>WebDriver</code> 的属性对 <code>navigator</code> 对象进行注释,
用于缓解拒绝服务的攻击.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e1315c8ae4a385f5b3b8b028ce8d9ebb>5.5 - 测试依赖</h1><p>关于自动化测试的一个常见想法和误解是关于特定的测试顺序. 您的测试应该能够以<strong>任何</strong>顺序运行，而不是依赖于完成其他测试才能成功.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-819c58e35cb5b37daaf82700a073a9a0>5.6 - 性能测试</h1><p>通常不建议使用Selenium和WebDriver进行性能测试.
并非因为不能做, 只是缺乏针对此类工作的优化,
因而难以得到乐观的结果.</p><p>对于用户而言, 在用户上下文中执行性能测试似乎是自然而然的选择,
但是WebDriver的测试会受到许多外部和内部的影响而变得脆弱,
这是您无法控制的. 例如,
浏览器的启动速度, HTTP服务器的速度,
托管JavaScript或CSS的第三方服务器的响应
以及WebDriver实现本身检测的损失.
这些因素的变化会影响结果.
很难区分网站自身与外部资源之间的性能差异,
并且也很难明确浏览器中使用WebDriver对性能的影响,
尤其是在注入脚本时.</p><p>另一个潜在的吸引点是"节省时间"-同时执行功能和性能测试.
但是, 功能和性能测试分别具有截然不同的目标.
要测试功能, 测试人员可能需要耐心等待加载,
但这会使性能测试结果蒙上阴影, 反之亦然.</p><p>为了提高网站的性能, 您需要不依赖于环境的差异来分析整体性能,
识别不良代码的实践,
对单个资源 (即CSS或JavaScript) 的性能进行细分
以了解需要改进的地方.
有很多性能测试工具已经可以完成这项工作,
并且提供了报告和分析结果, 甚至可以提出改进建议.</p><p>例如一种易于使用的 (开源) 软件包是: <a href=//jmeter.apache.org/>JMeter</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-38d1959cdf1a7c403cb4f29ca535baa9>5.7 - 爬取链接</h1><p>建议您不要使用WebDriver来通过链接进行爬网，
并非因为无法完成，而是因为它绝对不是最理想的工具。
WebDriver需要一些时间来启动，并且可能要花几秒钟到一分钟的时间，
具体取决于测试的编写方式，仅仅是为了获取页面并遍历DOM.</p><p>除了使用WebDriver之外，
您还可以通过执行 <a href=//curl.haxx.se/>curl</a> 命令或
使用诸如BeautifulSoup之类的库来节省大量时间，
因为这些方法不依赖于创建浏览器和导航至页面.
通过不使用WebDriver可以节省大量时间.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a18a4de15d62b2cf10d163ace06e1017>5.8 - 双因素认证</h1><p>双因素认证通常简写成 <em>2FA</em> 是一种一次性密码（OTP）通常用在移动应用上例如“谷歌认证器”，
“微软认证器”等等，或者通过短信或者邮件来认证。在Selenium自动化中这些都是影响有效自动化
的极大挑战。虽然也有一些方法可以自动化这些过程，但是同样对于Selenium自动化也引入了很多不安全因素。
所以你应该要避免对2FA自动化。</p><p>这里有一些对于如何绕过2FA校验的建议：</p><ul><li>在测试环境中对特定用户禁止2FA校验，这样对于这些特定用户可以直接进行自动化测试。</li><li>禁止2FA校验在测试环境中。</li><li>对于特定IP区域禁止2FA校验，这样我们可以配置测试机器的IP在这些白名单区域中。</li></ul></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/experitest.png alt=Experitest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.lambdatest.com/selenium-automation class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.subject-7.com/?utm_source=SeleniumHQ&utm_medium=referral&utm_campaign=product" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/subject7_logo.png alt=Subject7></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.avoautomation.ai/why-avo//?utm_source=SeleniumHQ&utm_medium=listing&utm_campaign=SeleniumHQ" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/Avo_logo.png alt="Avo Automation"></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text>Want to support the Selenium project? Learn more or view the full list of sponsors.</p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase font-weight-bold">Learn more
<i class="pl-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/seleniumhq/shared_invite/zt-vv33sc0w-VKKQop3WDV_lfrLXGGHvDw aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://kiwiirc.com/nextclient/irc.libera.chat/#selenium aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Software Freedom Conservancy 保留所有权利</small><p class=mt-2><a href=/zh-cn/documentation/about/>关于这个文档</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><script src=/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js integrity="sha256-XHS4cMaVOTGnBfOQpJx+TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin=anonymous></script><script src=/js/prism.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script><script type=text/javascript>docsearch({apiKey:'f6cea044c21fee6ae07b0b090bf2ca6a',indexName:'selenium',inputSelector:'.td-search-input',debug:!1})</script></body></html>